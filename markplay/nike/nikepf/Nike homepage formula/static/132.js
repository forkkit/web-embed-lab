window.segment=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n.h="90fe59987605968aa8a2",n.cn="segment-wrapper",n(n.s=9)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(3);!function(e){e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR",e[e.OFF=4]="OFF"}(r=t.LoggerLevel||(t.LoggerLevel={}));var o="color:white;background-color:green",a="color:white;background-color:blue",s="color:white;background-color:magenta",u="color:white;background-color:red",c=function(){function e(t){void 0===t&&(t=e.DEFAULT_LEVEL),this.level=t}return e.getInstance=function(){if(!e.instance){var t=e.DEFAULT_LEVEL;"undefined"!==r[r[i.getDebugMode()]]&&(t=r[i.getDebugMode()]),e.instance=new e(t)}return e.instance},e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.log.apply(this,[r.DEBUG].concat(e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.log.apply(this,[r.ERROR].concat(e))},e.prototype.getLevel=function(){return this.level},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.log.apply(this,[r.INFO].concat(e))},e.prototype.getDefaultLevel=function(){return e.DEFAULT_LEVEL},e.prototype.setLevel=function(e){this.level=e},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.log.apply(this,[r.WARN].concat(e))},e.prototype.time=function(e){this.level===r.DEBUG&&console.time(e)},e.prototype.timeEnd=function(e){this.level===r.DEBUG&&console.timeEnd(e)},e.prototype.log=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!(e<this.level))switch(e){case r.DEBUG:console.log.apply(console,["%csegment-wrapper@v1.19.0 - Debug:",o].concat(t));break;case r.INFO:console.info.apply(console,["%csegment-wrapper@v1.19.0 - Info:",a].concat(t));break;case r.WARN:console.warn.apply(console,["%csegment-wrapper@v1.19.0 - Warn:",s].concat(t));break;case r.ERROR:console.error.apply(console,["%csegment-wrapper@v1.19.0 - Error:",u].concat(t));break;case r.OFF:}},e.DEFAULT_LEVEL=r.ERROR,e}();t.logger=c.getInstance()},function(module,exports,__webpack_require__){(function(setImmediate){var setTimeoutFunc=setTimeout;function noop(){}function bind(e,t){return function(){e.apply(t,arguments)}}function PollyPromise(e){if(!(this instanceof PollyPromise))throw new TypeError("PollyPromises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],doResolve(e,this)}function handle(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,PollyPromise._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(e){return void reject(t.promise,e)}resolve(t.promise,r)}else(1===e._state?resolve:reject)(t.promise,e._value)})):e._deferreds.push(t)}function resolve(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof PollyPromise)return e._state=3,e._value=t,void finale(e);if("function"==typeof n)return void doResolve(bind(n,t),e)}e._state=1,e._value=t,finale(e)}catch(t){reject(e,t)}}function reject(e,t){e._state=2,e._value=t,finale(e)}function finale(e){2===e._state&&0===e._deferreds.length&&PollyPromise._immediateFn(function(){e._handled||PollyPromise._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)handle(e,e._deferreds[t]);e._deferreds=null}function Handler(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function doResolve(e,t){var n=!1;try{e(function(e){n||(n=!0,resolve(t,e))},function(e){n||(n=!0,reject(t,e))})}catch(e){if(n)return;n=!0,reject(t,e)}}let NativePromise;PollyPromise.prototype.catch=function(e){return this.then(null,e)},PollyPromise.prototype.then=function(e,t){var n=new this.constructor(noop);return handle(this,new Handler(e,t,n)),n},PollyPromise.all=function(e){return new PollyPromise(function(t,n){if(!e||void 0===e.length)throw new TypeError("PollyPromise.all accepts an array");var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);var i=r.length;function o(e,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(t){o(e,t)},n)}r[e]=a,0==--i&&t(r)}catch(e){n(e)}}for(var a=0;a<r.length;a++)o(a,r[a])})},PollyPromise.resolve=function(e){return e&&"object"==typeof e&&e.constructor===PollyPromise?e:new PollyPromise(function(t){t(e)})},PollyPromise.reject=function(e){return new PollyPromise(function(t,n){n(e)})},PollyPromise.race=function(e){return new PollyPromise(function(t,n){for(var r=0,i=e.length;r<i;r++)e[r].then(t,n)})},PollyPromise._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){setTimeoutFunc(e,0)},PollyPromise._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled PollyPromise Rejection:",e)};try{NativePromise=eval("Promise")}catch(e){}module.exports=NativePromise||PollyPromise}).call(this,__webpack_require__(13).setImmediate)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.hasLocalStorage=function(){try{return localStorage.setItem("test","test"),localStorage.removeItem("test"),!0}catch(e){return!1}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i="debug";t.isDebugMode=function(){if(!r.hasLocalStorage())return!1;var e=window.localStorage.getItem(i);return"undefined"!==e&&Boolean(e)};var o=function(e,t){void 0===e&&(e="*"),void 0===t&&(t="*"),r.hasLocalStorage()&&(window.localStorage.setItem(i,e?function(e){return"analytics:"+e}(e):""),window.localStorage.setItem(i+"-mode",e&&t?t:""))};t.setDebugMode=o;t.getDebugMode=function(){if(!r.hasLocalStorage())return"ERROR";var e=function(){var e=window.location.search;return e.indexOf(i+"-mode")>-1&&"undefined"!=typeof URLSearchParams&&new URLSearchParams(e).get(i+"-mode")||""}().toUpperCase();e&&o(void 0,e);var t=window.localStorage.getItem(i+"-mode");return"*"===t&&(t="DEBUG"),t||"ERROR"}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=!1,a={context:{library:{name:"Segment Wrapper",version:"1.19.0"}},integrations:{}},s=300,u="",c=function(e,t){return void 0===t&&(t={context:{},integrations:{}}),r({},e,t,{context:r({campaign:{}},e.context,t?t.context:{}),integrations:r({},e.integrations,t?t.integrations:{})})};t.combineOptions=c;t.configure=function(e,t){o?i.logger.warn("Segment already loaded."):e?(o=!0,u=e,a=c(a,t)):i.logger.warn("A write key is required.")};t.getGlobalOptions=function(){return r({},a)};t.getGlobalTimeoutMs=function(){return s};t.setGlobalTimeoutMs=function(e){s=e};t.getGlobalWriteKey=function(){return u};t.loaded=function(){return o}},function(module,exports,__webpack_require__){(function(Promise){var support={searchParams:"URLSearchParams"in self,iterable:"Symbol"in self&&"iterator"in Symbol,blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self};function isDataView(e){return e&&DataView.prototype.isPrototypeOf(e)}if(support.arrayBuffer)var viewClasses=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],isArrayBufferView=ArrayBuffer.isView||function(e){return e&&viewClasses.indexOf(Object.prototype.toString.call(e))>-1};function normalizeName(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e)||""===e)throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function normalizeValue(e){return"string"!=typeof e&&(e=String(e)),e}function iteratorFor(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return support.iterable&&(t[Symbol.iterator]=function(){return t}),t}function Headers(e){this.map={},e instanceof Headers?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function consumed(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function fileReaderReady(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function readBlobAsArrayBuffer(e){var t=new FileReader,n=fileReaderReady(t);return t.readAsArrayBuffer(e),n}function readBlobAsText(e){var t=new FileReader,n=fileReaderReady(t);return t.readAsText(e),n}function readArrayBufferAsText(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}function bufferClone(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function Body(){return this.bodyUsed=!1,this._initBody=function(e){this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:support.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:support.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:support.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():support.arrayBuffer&&support.blob&&isDataView(e)?(this._bodyArrayBuffer=bufferClone(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):support.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||isArrayBufferView(e))?this._bodyArrayBuffer=bufferClone(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):support.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},support.blob&&(this.blob=function(){var e=consumed(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?consumed(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(readBlobAsArrayBuffer)}),this.text=function(){var e=consumed(this);if(e)return e;if(this._bodyBlob)return readBlobAsText(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},support.formData&&(this.formData=function(){return this.text().then(decode)}),this.json=function(){return this.text().then(JSON.parse)},this}Headers.prototype.append=function(e,t){e=normalizeName(e),t=normalizeValue(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},Headers.prototype.delete=function(e){delete this.map[normalizeName(e)]},Headers.prototype.get=function(e){return e=normalizeName(e),this.has(e)?this.map[e]:null},Headers.prototype.has=function(e){return this.map.hasOwnProperty(normalizeName(e))},Headers.prototype.set=function(e,t){this.map[normalizeName(e)]=normalizeValue(t)},Headers.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},Headers.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),iteratorFor(e)},Headers.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),iteratorFor(e)},Headers.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),iteratorFor(e)},support.iterable&&(Headers.prototype[Symbol.iterator]=Headers.prototype.entries);var methods=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function normalizeMethod(e){var t=e.toUpperCase();return methods.indexOf(t)>-1?t:e}function Request(e,t){var n=(t=t||{}).body;if(e instanceof Request){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new Headers(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new Headers(t.headers)),this.method=normalizeMethod(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function decode(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}}),t}function parseHeaders(e){var t=new Headers;return e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}}),t}function Response(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new Headers(t.headers),this.url=t.url||"",this._initBody(e)}Request.prototype.clone=function(){return new Request(this,{body:this._bodyInit})},Body.call(Request.prototype),Body.call(Response.prototype),Response.prototype.clone=function(){return new Response(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Headers(this.headers),url:this.url})},Response.error=function(){var e=new Response(null,{status:0,statusText:""});return e.type="error",e};var redirectStatuses=[301,302,303,307,308];Response.redirect=function(e,t){if(-1===redirectStatuses.indexOf(t))throw new RangeError("Invalid status code");return new Response(null,{status:t,headers:{location:e}})};var DOMException=self.DOMException;try{new DOMException}catch(e){DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},DOMException.prototype=Object.create(Error.prototype),DOMException.prototype.constructor=DOMException}function pollyFetch(e,t){return new Promise(function(n,r){var i=new Request(e,t);if(i.signal&&i.signal.aborted)return r(new DOMException("Aborted","AbortError"));var o=new XMLHttpRequest;function a(){o.abort()}o.onload=function(){var e={status:o.status,statusText:o.statusText,headers:parseHeaders(o.getAllResponseHeaders()||"")};e.url="responseURL"in o?o.responseURL:e.headers.get("X-Request-URL");var t="response"in o?o.response:o.responseText;n(new Response(t,e))},o.onerror=function(){r(new TypeError("Network request failed"))},o.ontimeout=function(){r(new TypeError("Network request failed"))},o.onabort=function(){r(new DOMException("Aborted","AbortError"))},o.open(i.method,i.url,!0),"include"===i.credentials?o.withCredentials=!0:"omit"===i.credentials&&(o.withCredentials=!1),"responseType"in o&&support.blob&&(o.responseType="blob"),i.headers.forEach(function(e,t){o.setRequestHeader(t,e)}),i.signal&&(i.signal.addEventListener("abort",a),o.onreadystatechange=function(){4===o.readyState&&i.signal.removeEventListener("abort",a)}),o.send(void 0===i._bodyInit?null:i._bodyInit)})}let nativeFetch;try{nativeFetch=eval("fetch")}catch(e){}module.exports=nativeFetch||pollyFetch}).call(this,__webpack_require__(1))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this._dataLength=0,this._bufferLength=0,this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}return e.hashStr=function(e,t){return void 0===t&&(t=!1),this.onePassHasher.start().appendStr(e).end(t)},e.hashAsciiStr=function(e,t){return void 0===t&&(t=!1),this.onePassHasher.start().appendAsciiStr(e).end(t)},e._hex=function(t){var n,r,i,o,a=e.hexChars,s=e.hexOut;for(o=0;o<4;o+=1)for(r=8*o,n=t[o],i=0;i<8;i+=2)s[r+1+i]=a.charAt(15&n),n>>>=4,s[r+0+i]=a.charAt(15&n),n>>>=4;return s.join("")},e._md5cycle=function(e,t){var n=e[0],r=e[1],i=e[2],o=e[3];r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+t[0]-680876936|0)<<7|n>>>25)+r|0)&r|~n&i)+t[1]-389564586|0)<<12|o>>>20)+n|0)&n|~o&r)+t[2]+606105819|0)<<17|i>>>15)+o|0)&o|~i&n)+t[3]-1044525330|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+t[4]-176418897|0)<<7|n>>>25)+r|0)&r|~n&i)+t[5]+1200080426|0)<<12|o>>>20)+n|0)&n|~o&r)+t[6]-1473231341|0)<<17|i>>>15)+o|0)&o|~i&n)+t[7]-45705983|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+t[8]+1770035416|0)<<7|n>>>25)+r|0)&r|~n&i)+t[9]-1958414417|0)<<12|o>>>20)+n|0)&n|~o&r)+t[10]-42063|0)<<17|i>>>15)+o|0)&o|~i&n)+t[11]-1990404162|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+t[12]+1804603682|0)<<7|n>>>25)+r|0)&r|~n&i)+t[13]-40341101|0)<<12|o>>>20)+n|0)&n|~o&r)+t[14]-1502002290|0)<<17|i>>>15)+o|0)&o|~i&n)+t[15]+1236535329|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+t[1]-165796510|0)<<5|n>>>27)+r|0)&i|r&~i)+t[6]-1069501632|0)<<9|o>>>23)+n|0)&r|n&~r)+t[11]+643717713|0)<<14|i>>>18)+o|0)&n|o&~n)+t[0]-373897302|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+t[5]-701558691|0)<<5|n>>>27)+r|0)&i|r&~i)+t[10]+38016083|0)<<9|o>>>23)+n|0)&r|n&~r)+t[15]-660478335|0)<<14|i>>>18)+o|0)&n|o&~n)+t[4]-405537848|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+t[9]+568446438|0)<<5|n>>>27)+r|0)&i|r&~i)+t[14]-1019803690|0)<<9|o>>>23)+n|0)&r|n&~r)+t[3]-187363961|0)<<14|i>>>18)+o|0)&n|o&~n)+t[8]+1163531501|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+t[13]-1444681467|0)<<5|n>>>27)+r|0)&i|r&~i)+t[2]-51403784|0)<<9|o>>>23)+n|0)&r|n&~r)+t[7]+1735328473|0)<<14|i>>>18)+o|0)&n|o&~n)+t[12]-1926607734|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+t[5]-378558|0)<<4|n>>>28)+r|0)^r^i)+t[8]-2022574463|0)<<11|o>>>21)+n|0)^n^r)+t[11]+1839030562|0)<<16|i>>>16)+o|0)^o^n)+t[14]-35309556|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+t[1]-1530992060|0)<<4|n>>>28)+r|0)^r^i)+t[4]+1272893353|0)<<11|o>>>21)+n|0)^n^r)+t[7]-155497632|0)<<16|i>>>16)+o|0)^o^n)+t[10]-1094730640|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+t[13]+681279174|0)<<4|n>>>28)+r|0)^r^i)+t[0]-358537222|0)<<11|o>>>21)+n|0)^n^r)+t[3]-722521979|0)<<16|i>>>16)+o|0)^o^n)+t[6]+76029189|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+t[9]-640364487|0)<<4|n>>>28)+r|0)^r^i)+t[12]-421815835|0)<<11|o>>>21)+n|0)^n^r)+t[15]+530742520|0)<<16|i>>>16)+o|0)^o^n)+t[2]-995338651|0)<<23|r>>>9)+i|0,r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+t[0]-198630844|0)<<6|n>>>26)+r|0)|~i))+t[7]+1126891415|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+t[14]-1416354905|0)<<15|i>>>17)+o|0)|~n))+t[5]-57434055|0)<<21|r>>>11)+i|0,r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+t[12]+1700485571|0)<<6|n>>>26)+r|0)|~i))+t[3]-1894986606|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+t[10]-1051523|0)<<15|i>>>17)+o|0)|~n))+t[1]-2054922799|0)<<21|r>>>11)+i|0,r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+t[8]+1873313359|0)<<6|n>>>26)+r|0)|~i))+t[15]-30611744|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+t[6]-1560198380|0)<<15|i>>>17)+o|0)|~n))+t[13]+1309151649|0)<<21|r>>>11)+i|0,r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+t[4]-145523070|0)<<6|n>>>26)+r|0)|~i))+t[11]-1120210379|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+t[2]+718787259|0)<<15|i>>>17)+o|0)|~n))+t[9]-343485551|0)<<21|r>>>11)+i|0,e[0]=n+e[0]|0,e[1]=r+e[1]|0,e[2]=i+e[2]|0,e[3]=o+e[3]|0},e.prototype.start=function(){return this._dataLength=0,this._bufferLength=0,this._state.set(e.stateIdentity),this},e.prototype.appendStr=function(t){var n,r,i=this._buffer8,o=this._buffer32,a=this._bufferLength;for(r=0;r<t.length;r+=1){if((n=t.charCodeAt(r))<128)i[a++]=n;else if(n<2048)i[a++]=192+(n>>>6),i[a++]=63&n|128;else if(n<55296||n>56319)i[a++]=224+(n>>>12),i[a++]=n>>>6&63|128,i[a++]=63&n|128;else{if((n=1024*(n-55296)+(t.charCodeAt(++r)-56320)+65536)>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");i[a++]=240+(n>>>18),i[a++]=n>>>12&63|128,i[a++]=n>>>6&63|128,i[a++]=63&n|128}a>=64&&(this._dataLength+=64,e._md5cycle(this._state,o),a-=64,o[0]=o[16])}return this._bufferLength=a,this},e.prototype.appendAsciiStr=function(t){for(var n,r=this._buffer8,i=this._buffer32,o=this._bufferLength,a=0;;){for(n=Math.min(t.length-a,64-o);n--;)r[o++]=t.charCodeAt(a++);if(o<64)break;this._dataLength+=64,e._md5cycle(this._state,i),o=0}return this._bufferLength=o,this},e.prototype.appendByteArray=function(t){for(var n,r=this._buffer8,i=this._buffer32,o=this._bufferLength,a=0;;){for(n=Math.min(t.length-a,64-o);n--;)r[o++]=t[a++];if(o<64)break;this._dataLength+=64,e._md5cycle(this._state,i),o=0}return this._bufferLength=o,this},e.prototype.getState=function(){var e=this._state;return{buffer:String.fromCharCode.apply(null,this._buffer8),buflen:this._bufferLength,length:this._dataLength,state:[e[0],e[1],e[2],e[3]]}},e.prototype.setState=function(e){var t,n=e.buffer,r=e.state,i=this._state;for(this._dataLength=e.length,this._bufferLength=e.buflen,i[0]=r[0],i[1]=r[1],i[2]=r[2],i[3]=r[3],t=0;t<n.length;t+=1)this._buffer8[t]=n.charCodeAt(t)},e.prototype.end=function(t){void 0===t&&(t=!1);var n,r=this._bufferLength,i=this._buffer8,o=this._buffer32,a=1+(r>>2);if(this._dataLength+=r,i[r]=128,i[r+1]=i[r+2]=i[r+3]=0,o.set(e.buffer32Identity.subarray(a),a),r>55&&(e._md5cycle(this._state,o),o.set(e.buffer32Identity)),(n=8*this._dataLength)<=4294967295)o[14]=n;else{var s=n.toString(16).match(/(.*?)(.{0,8})$/);if(null===s)return;var u=parseInt(s[2],16),c=parseInt(s[1],16)||0;o[14]=u,o[15]=c}return e._md5cycle(this._state,o),t?this._state:e._hex(this._state)},e.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]),e.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),e.hexChars="0123456789abcdef",e.hexOut=[],e.onePassHasher=new e,e}();t.Md5=r,"5d41402abc4b2a76b9719d911017c592"!==r.hashStr("hello")&&console.error("Md5 self test failed.")},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return"function"!=typeof e},o=function(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)},a=function(e){var t=[];return Object.keys(e).forEach(function(n){if(e[n])if("expires"===n){if(!e.expires)return;t.push(function(e){return"expires="+("number"==typeof e?new Date((new Date).getTime()+864e5*e):e).toUTCString()}(e.expires))}else if("secure"===n){if("boolean"!=typeof e.secure)return;t.push(function(e){return e?"secure":""}(e.secure))}else t.push(function(e,t){var n=(""+t).split(";")[0];return n?e+"="+n:""}(n,e[n]))}),t.length?"; "+t.join("; "):""},s=function(){function e(e,t){this.converter=e||o,this.defaults={},this.logger=t||console}return e.withConverter=function(t){return new e(t)},e.prototype.get=function(e,t){var n=this,r={};return(document.cookie?document.cookie.split("; "):[]).forEach(function(e){var a=e.split("="),s=a.slice(1).join("=");t||'"'!==s.charAt(0)||'"'!==s.charAt(s.length-1)||(s=s.slice(1,-1));try{var u=o(a[0]);if(s=s=i(n.converter)?n.converter.read&&n.converter.read(s,u)||o(s):n.converter(s,u),t)try{s=JSON.parse(s)}catch(e){}s=s||r[u]||"",r[u]=s}catch(e){}}),e?r[e]:r},e.prototype.getJSON=function(e){return e?this.get(e,!0):this.get("",!0)},e.prototype.remove=function(e,t){this.set(e,"",r({},t,{expires:-1}))},e.prototype.set=function(e,t,n){void 0===n&&(n={});var o=r({path:"/"},this.defaults,n),s=""+t;if("object"==typeof t&&!(t instanceof String))try{var u=JSON.stringify(t);/^[{[]/.test(u)&&(s=u)}catch(e){this.logger.error(e),s=t.toString()}s=i(this.converter)&&this.converter.write?this.converter.write(s,e):encodeURIComponent(s).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent);var c=encodeURIComponent(e).replace(/%(?:23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);return document.cookie=c+"="+s+a(o)},e}();t.Cookies=s},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=n(10),o=n(16),a=n(31),s=n(40),u=n(45),c=n(3),l=a.initializeInsights(),d=a.initializeCrossDomainCookie(),f=a.initializeLocale(window.location.pathname),p=new s.EventStream({handlers:{page:function(e){var t=e.category,n=e.messageId,r=e.name,o=e.properties,a=e.options,s=e.callback,u=r;void 0===t?i.page(n,u,o,a,s):i.page(t,u,o,a,s),l.send("event",{method:"page"})},track:function(e){var t=e.messageId,n=e.name,r=e.properties,o=e.options,a=e.callback,s=n;i.track(t,s,r,o,a),l.send("event",{method:"track"})}},middleware:{handleAdobeVisitorId:o.handleAdobeVisitorId,handleAnonymousId:o.handleAnonymousId,handleAdobeCurrencyPrice:o.handleAdobeCurrencyPrice,handleAdobeVariables:u.flags.adobeVariables?o.handleAdobeVariables:o.handleNothing,handleAssetId:o.handleAssetId,handleCommonFields:o.handleCommonFields,handleEventInfo:o.handleEventInfo,handleIdentity:o.handleIdentity,handlePreviousPage:o.handlePreviousPage,handlePrivacy:o.handlePrivacy,handleWrapper:o.handleWrapper},passThrough:{timeout:i.timeout},services:{adobeVisitor:a.initializeAdobeVisitor(),cookies:d,insights:l,locale:f,previousPageDetails:a.initializePreviousPageDetails(),unite:a.initializeUnite()}});e.exports=r({},p.exports(),{debug:function(e){"boolean"==typeof e&&Boolean(e)?c.setDebugMode("",""):c.setDebugMode(e)},load:function(e,t){i.configure(e,t),l.send("event",{method:"load"})}})},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(5)),r(n(11))},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),o=n(0),a=n(12),s=function(e){e&&setTimeout(e,i.getGlobalTimeoutMs())},u=function(e,t){if(t&&t.view&&"object"==typeof t.view&&!Array.isArray(t.view)&&t.view.pageType&&t.eventName&&"string"==typeof t.eventName)return"/assets/measure/schemas/core-buy-flow/experience/"+t.view.pageType+"/event-type/"+e+"/event-name/"+t.eventName.toLowerCase().split(" ").join("-")+"/version/LATEST/schema.json"};t.track=function(e,t,n,c,l){if(i.loaded()){var d="function"==typeof l?l:"function"==typeof c?c:void 0,f=function(e,t,n,o){return r({_metadata:{bundled:["Segment.io"],unbundled:["Adobe Analytics"]}},i.combineOptions(i.getGlobalOptions(),o),{$schema:u("track",n),event:t,messageId:e,properties:n,sentAt:new Date,timestamp:new Date,type:"track",userId:o&&o.userId||null,writeKey:o&&o.writeKey||i.getGlobalWriteKey()})}(e,t,n,"object"==typeof c?c:void 0);o.logger.info("track with",f),a.transmitPayload("t",f),s(d)}else o.logger.error("Segment not loaded.")};t.page=function(e,t,n,c,l,d){if(i.loaded()){var f="object"==typeof n?n:c,p="function"==typeof d?d:"function"==typeof l?l:void 0,h=function(e,t,n,o,a){return r({_metadata:{bundled:["Segment.io"],unbundled:["Adobe Analytics"]}},i.combineOptions(i.getGlobalOptions(),a),{$schema:u("page",o),category:t||null,messageId:e,name:n,properties:r({},o,{name:n}),sentAt:new Date,timestamp:new Date,type:"page",userId:a&&a.userId||null,writeKey:a&&a.writeKey||i.getGlobalWriteKey()})}(e,"object"==typeof n?void 0:t,"object"==typeof n?t:n,f,"object"==typeof l?l:c!==f&&"function"!=typeof c?c:void 0);o.logger.info("page with",h),a.transmitPayload("p",h),s(p)}else o.logger.error("Segment not loaded.")};t.timeout=function(e){i.setGlobalTimeoutMs(e)}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.transmitPayload=function(t,n){e("/__wel_absolute/analytics.nike.com/v1/"+t,{body:JSON.stringify(n),method:"POST"}).then(function(e){r.logger.timeEnd(n.messageId),r.logger.info("sent",n,"received",e)}).catch(function(e){return r.logger.error("ERROR",e)})}}).call(this,n(6))},function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(14),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(4))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,i=1,o={},a=!1,s=e.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(e);u=u&&u.setTimeout?u:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick(function(){l(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&l(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),r=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){l(e.data)},r=function(t){e.port2.postMessage(t)}}():s&&"onreadystatechange"in s.createElement("script")?function(){var e=s.documentElement;r=function(t){var n=s.createElement("script");n.onreadystatechange=function(){l(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():r=function(e){setTimeout(l,0,e)},u.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var a={callback:e,args:t};return o[i]=a,r(i),i++},u.clearImmediate=c}function c(e){delete o[e]}function l(e){if(a)setTimeout(l,0,e);else{var t=o[e];if(t){a=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{c(e),a=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(4),n(15))},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,c=[],l=!1,d=-1;function f(){l&&u&&(l=!1,u.length?c=u.concat(c):d=-1,c.length&&p())}function p(){if(!l){var e=s(f);l=!0;for(var t=c.length;t;){for(u=c,c=[];++d<t;)u&&u[d].run();d=-1,t=c.length}u=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new h(e,t)),1!==c.length||l||s(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(17)),r(n(18)),r(n(19)),r(n(21)),r(n(22)),r(n(23)),r(n(24)),r(n(25)),r(n(26)),r(n(27)),r(n(28)),r(n(30))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={options:{},properties:{}};t.handleAdobeCurrencyPrice=function(e,t,n,i){var o=n.properties.currency,a=n.properties.price;return o&&a?{options:{},properties:{currencyPrice:o+"_"+a}}:r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={"Product List Filtered":["event35","event47"],"Product List Viewed":["event35"],"Product Viewed":["prodView","event4"],"Products Searched":void 0};t.handleAdobeVariables=function(e,t,n){var i=n.properties.eventName||t,o=r[i];return"page"===e&&o?("Product List Viewed"===i&&n.properties.content&&n.properties.content.inWallContentId&&o.push("event101"),function(e){return{options:{integrations:{"Adobe Analytics":{events:e}}},properties:{}}}(o)):"track"===e&&i in r?{options:{integrations:{"Adobe Analytics":!1}},properties:{}}:{options:{},properties:{}}}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=n(20);t.handleAdobeVisitorId=function(t,n,i,o){return new e(function(e){var t=setTimeout(function(){o.insights.send("warn",{timeoutMS:3e3,warn:"adobe-visitor-not-present"})},3e3);o.adobeVisitor.getVisitorValues(function(n){var i=n.MCMID,o=n.MCAID;clearTimeout(t),e(r.prune({options:{integrations:{"Adobe Analytics":{marketingCloudVisitorId:i}}},properties:{consumer:{adobeMarketingCloudId:i,adobeVisitorId:o}}}))})})}}).call(this,n(1))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return void 0===e},i=function(e){if(Array.isArray(e)){var t=e.map(i).filter(function(e){return!r(e)});return t.length>0?t:void 0}if(function(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}(e)){var n=Object.keys(e).reduce(function(t,n){var o=i(e[n]);return r(o)||(t[n]=o),t},{});return Object.keys(n).length>0?n:void 0}if(!function(e){return void 0===e||null===e}(e)&&!function(e){return""===e}(e))return e};t.prune=i},function(e,t,n){"use strict";(function(e){var r=this&&this.__awaiter||function(t,n,r,i){return new(r||(r=e))(function(e,o){function a(e){try{u(i.next(e))}catch(e){o(e)}}function s(e){try{u(i.throw(e))}catch(e){o(e)}}function u(t){t.done?e(t.value):new r(function(e){e(t.value)}).then(a,s)}u((i=i.apply(t,n||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this;Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),s=n(0);t.handleAnonymousId=function(e,t,n,u){return r(o,void 0,void 0,function(){var e,t,n;return i(this,function(r){switch(r.label){case 0:return e=3e3,t=setTimeout(function(){u.insights.send("warn",{timeoutMS:e,warn:"anonymous-id-not-present"})},e),[4,u.cookies.get("anonymousId")];case 1:return(n=r.sent())&&function(e){return"string"==typeof e&&""!==e}(n)||(n=function(){var e=Math.random().toString(),t=a.Md5.hashStr((new Date).toISOString()+e);if(!t)throw new Error("Could not generate anonymousId");return"DSWX"+t.toString().toUpperCase()}()),clearTimeout(t),function(t){var n=setTimeout(function(){u.insights.send("warn",{timeoutMS:e,warn:"store-anonymous-id"})},e);u.cookies.set("anonymousId",t.toString(),{domain:".nike.com",expires:function(e){var t=new Date;return new Date(t.setFullYear(t.getFullYear()+e))}(2)}).then(function(){clearTimeout(n)}).catch(function(e){var t=e;clearTimeout(n),s.logger.error(e),u.insights.send("exception",{exception:"store-anonymous-id",message:t&&t.message})})}(n),[2,{options:{anonymousId:n,integrations:{"Adobe Analytics":{visitorId:n}}},properties:{consumer:{anonymousId:n}}}]}})})}}).call(this,n(1))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.handleAssetId=function(e,t,n){if(!n.properties||!n.properties.content||"object"!=typeof n.properties.content||n.properties.content instanceof Array)return{options:{},properties:{}};var r=n.properties.content;return{options:{},properties:{content:{allAssetId:r.allAssetIdString&&"string"==typeof r.allAssetIdString?r.allAssetIdString.split("|"):void 0,allContentPresent:r.allContentPresentString&&"string"==typeof r.allContentPresentString?r.allContentPresentString.split("|"):void 0}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.handleCommonFields=function(e){return{options:{context:{page:{path:window.location.pathname,referrer:document.referrer,search:location.search,title:document.title,url:location.href},userAgent:window.navigator.userAgent}},properties:"page"===e?{path:window.location.pathname,referrer:document.referrer,search:location.search,title:document.title,url:location.href}:{}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.handleNothing=function(e,t,n,r){return{options:{},properties:{}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.handleEventInfo=function(e,t){return{options:{},properties:{eventName:"page"===e?"Page Viewed":t,eventType:e}}}},function(e,t,n){"use strict";(function(e){var r=this&&this.__awaiter||function(t,n,r,i){return new(r||(r=e))(function(e,o){function a(e){try{u(i.next(e))}catch(e){o(e)}}function s(e){try{u(i.throw(e))}catch(e){o(e)}}function u(t){t.done?e(t.value):new r(function(e){e(t.value)}).then(a,s)}u((i=i.apply(t,n||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this;Object.defineProperty(t,"__esModule",{value:!0});var a=n(0);t.handleIdentity=function(e,t,n,s){return r(o,void 0,void 0,function(){var e,t,n,r,o,u,c,l;return i(this,function(i){switch(i.label){case 0:e=3e3,t=setTimeout(function(){s.insights.send("warn",{timeoutMS:e,warn:"unite-profile-not-present"})},e),n={id:"guest",type:void 0},i.label=1;case 1:return i.trys.push([1,3,,4]),[4,s.unite.getUserProfile()];case 2:return r=i.sent(),n.id=r.id||n.id,n.type=r.type||n.type,[3,4];case 3:return o=i.sent(),u=o,a.logger.warn(u),s.insights.send("exception",{exception:"unite-get-user-profile-error",message:u&&u.message}),[3,4];case 4:return clearTimeout(t),c="EMPLOYEE"===n.type,l=function(e){switch(n.type){case"EMPLOYEE":return"logged in:swoosh";case"DEFAULT_USER":return"logged in";default:return"not logged in"}}(),[2,{options:{},properties:{consumer:{isSwoosh:c,loginStatus:l,upmId:n.id}}}]}})})}}).call(this,n(1))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.handlePreviousPage=function(e,t,n,i){var o=i.previousPageDetails.get();if("page"===e&&!n.properties.previousView){var a=n.properties;if(!a||!a.view)return r.logger.warn("Could not set previous-page: event data not provided"),{options:{},properties:{previousView:{channel:o.pageType,name:o.pageName}}};if(("pdp"===a.view.pageType||"pdp"===a.view.channel)&&"snkrs"!==a.view.experienceType)return{options:{},properties:{previousView:{channel:o.pageType,name:o.pageName}}};!a.view.pageName&&!a.view.pageType&&a.view.channel&&a.view.name&&i.previousPageDetails.set(a.view.channel,a.view.name),a.view.pageName&&a.view.pageType&&i.previousPageDetails.set(a.view.pageType,a.view.pageName)}return{options:{},properties:{previousView:{pageName:o.pageName,pageType:o.pageType}}}}},function(e,t,n){"use strict";(function(e){var r=this&&this.__awaiter||function(t,n,r,i){return new(r||(r=e))(function(e,o){function a(e){try{u(i.next(e))}catch(e){o(e)}}function s(e){try{u(i.throw(e))}catch(e){o(e)}}function u(t){t.done?e(t.value):new r(function(e){e(t.value)}).then(a,s)}u((i=i.apply(t,n||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this;Object.defineProperty(t,"__esModule",{value:!0});var a=n(29),s=n(0),u={handlePrivacy:"User disallows marketing and performance"},c={0:{allowsMarketing:!1,allowsPerformance:!1},1:{allowsMarketing:!1,allowsPerformance:!0},2:{allowsMarketing:!0,allowsPerformance:!1},3:{allowsMarketing:!0,allowsPerformance:!0}};t.handlePrivacy=function(t,n,l,d){return r(o,void 0,void 0,function(){var t,n,l,f,p;return i(this,function(h){switch(h.label){case 0:if(!(t=d.locale.getCountry()))return s.logger.warn("could not get country"),[2,e.resolve({options:{},properties:{consumer:c[3]}})];if(!function(e){return Object.prototype.hasOwnProperty.call(a.EU_COUNTRIES,e.toUpperCase())}(t))return[2,e.resolve({options:{},properties:{consumer:c[3]}})];h.label=1;case 1:return h.trys.push([1,3,,4]),[4,function(t){return new e(function(e,n){var a=setInterval(function(){return r(o,void 0,void 0,function(){var r;return i(this,function(i){switch(i.label){case 0:return[4,t.get("sq")];case 1:if(r=i.sent()){if(clearInterval(a),"0"===r||"1"===r||"2"===r||"3"===r)return e(r),[2];n(new Error("invalid privacy cookie value"))}return[2]}})})},100)})}(d.cookies)];case 2:return n=h.sent(),f=!(l=c[n]).allowsMarketing&&!l.allowsPerformance,[2,e.resolve({drop:f?u:{},options:{},properties:{consumer:{allowsMarketing:l.allowsMarketing,allowsPerformance:l.allowsPerformance}}})];case 3:return p=h.sent(),s.logger.error(p),[2,e.resolve({drop:u,options:{},properties:{consumer:c[0]}})];case 4:return[2]}})})}}).call(this,n(1))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EU_COUNTRIES={AT:"Austria",BE:"Belgium",BG:"Bulgaria",CY:"Cyprus",CZ:"Czech Republic",DE:"Germany",DK:"Denmark",EE:"Estonia",ES:"Spain",FI:"Finland",FR:"France",GB:"United Kingdom",GR:"Greece",HR:"Croatia",HU:"Hungary",IE:"Ireland, Republic of (EIRE)",IT:"Italy",LT:"Lithuania",LU:"Luxembourg",LV:"Latvia",MT:"Malta",NL:"Netherlands",PL:"Poland",PT:"Portugal",RO:"Romania",SE:"Sweden",SI:"Slovenia",SK:"Slovakia"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.handleWrapper=function(){return{options:{},properties:{wrapper:{build:"production",version:"1.19.0"}}}}},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(32)),r(n(34)),r(n(35)),r(n(36)),r(n(38)),r(n(39))},function(e,t,n){"use strict";(function(e){var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(t,n,r,i){return new(r||(r=e))(function(e,o){function a(e){try{u(i.next(e))}catch(e){o(e)}}function s(e){try{u(i.throw(e))}catch(e){o(e)}}function u(t){t.done?e(t.value):new r(function(e){e(t.value)}).then(a,s)}u((i=i.apply(t,n||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},a=this;Object.defineProperty(t,"__esModule",{value:!0});var s=n(8),u=n(33),c=n(0);t.initializeCrossDomainCookie=function(t,n){void 0===t&&(t=window.origin),void 0===n&&(n="data-capture-i-frame");var l=new s.Cookies,d=0,f={},p=window.origin===t?e.resolve(window):u.createIFrame(document,n).then(function(t){return window.addEventListener("message",function(e){!function(e){if(e.id){var t=f[e.id];t?(e.error&&t.reject(new Error(e.error)),t.resolve(e),clearTimeout(t.timeoutId),f[e.id]=void 0):c.logger.warn("no message in segment wrapper queue with message id")}else c.logger.warn("no message id on segment wrapper iframe message")}(e.data)}),e.resolve(t)}),h=function(n){return i(a,void 0,void 0,function(){return o(this,function(i){switch(i.label){case 0:return d+=1,[4,p];case 1:return i.sent().postMessage(r({},n,{id:d}),t),[2,new e(function(e,t){var n=setTimeout(function(){t(new Error("Post message timed out after 2000ms"))},2e3);f[d]={reject:t,resolve:e,timeoutId:n}})]}})})};return{get:function(e){return i(a,void 0,void 0,function(){var n;return o(this,function(r){switch(r.label){case 0:return window.origin===t?[2,l.get(e)]:[4,h({cookieName:e,getCookie:!0})];case 1:return(n=r.sent()).cookieValue?[2,n.cookieValue.toString()]:[2,void 0]}})})},set:function(e,n,r){return i(a,void 0,void 0,function(){return o(this,function(i){switch(i.label){case 0:return window.origin===t?(l.set(e,n,r),[2]):[4,h({cookieAttributes:r,cookieName:e,cookieValue:n,setCookie:!0})];case 1:return i.sent(),[2]}})})}}}}).call(this,n(1))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});t.createIFrame=function(t,n){return new e(function(e,r){var i=t.createElement("iframe");if(t.getElementById(n))r(new Error('IFrame "'+n+'" already exists'));else{var o=setTimeout(function(){r(new Error("IFrame not created. Timeout after 2000ms"))},2e3);i.id=n,i.style.display="none",i.setAttribute("data-ignore",""),i.src="data-capture/iframe.html";var a=t.querySelector("body");a?(a.appendChild(i),i.addEventListener("load",function(){clearTimeout(o);var i=t.getElementById(n);if(i){var a=i.contentWindow;a?e(a):r(new Error('Could not get window of IFrame "'+n+'"'))}else r(new Error('Could not get element of IFrame "'+n+'"'))})):r(new Error('Could not select body element to attach IFrame "'+n+'"'))}})}}).call(this,n(1))},function(e,t,n){"use strict";(function(e){var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(3);t.initializeInsights=function(){var t="714737",o="TlcCcdatOd3c4G2tuEcPqQ8mB88ge2X2",a="714739",s="Gz-Rg5eUwnqvGEGOg91lByjrj4i2f_Qn",u=function(){var e=i.isDebugMode();return{insertKey:e?s:o,uri:"/__wel_absolute/insights-collector.newrelic.com/v1/accounts/"+(e?a:t)+"/events"}}(),c=function(e,t){return{body:JSON.stringify(t),headers:{"Content-Type":"application/json","X-Insert-Key":e},json:!0,method:"POST"}},l=function(t,n){return e(t,n)};return{send:function(e,t){var i=function(e){return r({},e,{environment:"production",filename:n.cn,hostname:window.location.hostname,href:window.location.href,referrer:document.referrer,userAgent:window.navigator.userAgent,version:"1.19.0"})}(t);if("event"!==e)if("exception"!==e){if("warn"!==e)throw new Error("Unknown InsightType '"+e+"'");l(u.uri,c(u.insertKey,r({},i,{eventType:"DataCaptureWarn"})))}else l(u.uri,c(u.insertKey,r({},i,{eventType:"DataCaptureException"})));else l(u.uri,c(u.insertKey,r({},i,{eventType:"DataCaptureEvent"})))}}}}).call(this,n(6))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.initializeLocale=function(e){void 0===e&&(e=window.location.pathname);return{getCountry:function(){if(e){var t=e.match(/(\/[a-z]{2}\/)/);if(Array.isArray(t)&&!(t.length<=0))return t[0].replace(/[^\w]/g,"")}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(37);t.initializeAdobeVisitor=function(){return window.Visitor||r(),window.Visitor.getInstance("F0935E09512D2C270A490D4D@AdobeOrg",{disableIdSyncs:!0,disableThirdPartyCalls:!0,disableThirdPartyCookies:!0,marketingCloudServer:"modus.nike.com",marketingCloudServerSecure:"smodus.nike.com",trackingServer:"modus.nike.com",trackingServerSecure:"smodus.nike.com"})}},function(e,t,n){(function(t){e.exports=function(){
/**
   * @license
   * Adobe Visitor API for JavaScript version: 3.4.0
   * Copyright 2019 Adobe, Inc. All Rights Reserved
   * More info available at /__wel_absolute/marketing.adobe.com/resources/help/en_US/mcvid/
   */
!function(){"use strict";function e(e,t){if(e===t)return 0;var n=e.toString().split("."),r=t.toString().split(".");return function(e){for(var t=/^\d+$/,n=0,r=e.length;n<r;n++)if(!t.test(e[n]))return!1;return!0}(n.concat(r))?(function(e,t){for(;e.length<t.length;)e.push("0");for(;t.length<e.length;)t.push("0")}(n,r),function(e,t){for(var n=0;n<e.length;n++){var r=parseInt(e[n],10),i=parseInt(t[n],10);if(r>i)return 1;if(i>r)return-1}return 0}(n,r)):NaN}var n="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{};Object.assign=Object.assign||function(e){for(var t,n,r=1;r<arguments.length;++r)for(t in n=arguments[r])Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e};var r={HANDSHAKE:"HANDSHAKE",GETSTATE:"GETSTATE",PARENTSTATE:"PARENTSTATE"},i={MCMID:"getMarketingCloudVisitorID",MCAID:"getAnalyticsVisitorID",MCAAMB:"getAudienceManagerBlob",MCAAMLH:"getAudienceManagerLocationHint",MCOPTOUT:"getOptOut",ALLFIELDS:"getVisitorValues"},o={MCMID:"getMarketingCloudVisitorID",MCAAMB:"getAudienceManagerBlob",MCAAMLH:"getAudienceManagerLocationHint",MCOPTOUT:"getOptOut",MCAID:"getAnalyticsVisitorID",CUSTOMERIDS:"getCustomerIDs",ALLFIELDS:"getVisitorValues"},a={MC:"MCMID",A:"MCAID",AAM:"MCAAMB"},s={MCMID:"MCMID",MCOPTOUT:"MCOPTOUT",MCAID:"MCAID",MCAAMLH:"MCAAMLH",MCAAMB:"MCAAMB"},u={UNKNOWN:0,AUTHENTICATED:1,LOGGED_OUT:2},c={GLOBAL:"global"},l={MCMID:"MCMID",MCAID:"MCAID",MCAAMB:"MCAAMB",MCAAMLH:"MCAAMLH",MCOPTOUT:"MCOPTOUT",CUSTOMERIDS:"CUSTOMERIDS"},d=function(e){function t(){}function n(t,n){var r=this;return function(){var i=e(0,t),o={};return o[t]=i,r.setStateAndPublish(o),n(i),i}}var r=this;this.getMarketingCloudVisitorID=function(e){e=e||t;var r=this.findField(l.MCMID,e),i=n.call(this,l.MCMID,e);return void 0!==r?r:i()},this.getVisitorValues=function(e){r.getMarketingCloudVisitorID(function(t){e({MCMID:t})})}},f=r,p=i,h={CUSTOMERIDS:"getCustomerIDs"},g=function(){function e(){}Object.keys(p).forEach(function(t){this[p[t]]=function(n){n=n||e;var r=this.findField(t,n),i=function(e,t){var n=this;return function(){return n.callbackRegistry.add(e,t),n.messageParent(f.GETSTATE),""}}.call(this,t,n);return void 0!==r?r:i()}},this),Object.keys(h).forEach(function(t){this[h[t]]=function(){return this.findField(t,e)||{}}},this)},m=i,y=function(e,t){return function(e,t){t.isObjectEmpty=function(e){return e===Object(e)&&0===Object.keys(e).length},t.isValueEmpty=function(e){return""===e||t.isObjectEmpty(e)},t.getIeVersion=function(){if(document.documentMode)return document.documentMode;for(var e=7;e>4;e--){var t=document.createElement("div");if(t.innerHTML="\x3c!--[if IE "+e+"]><span></span><![endif]--\x3e",t.getElementsByTagName("span").length)return t=null,e;t=null}return null},t.encodeAndBuildRequest=function(e,t){return e.map(encodeURIComponent).join(t)},t.isObject=function(e){return null!==e&&"object"==typeof e&&!1===Array.isArray(e)}}(0,(t={exports:{}}).exports),t.exports}(),v=(y.isObjectEmpty,y.isValueEmpty,y.getIeVersion,y.encodeAndBuildRequest,y.isObject,function(){return{callbacks:{},add:function(e,t){this.callbacks[e]=this.callbacks[e]||[];var n=this.callbacks[e].push(t)-1;return function(){this.callbacks[e].splice(n,1)}},execute:function(e,t){if(this.callbacks[e]){t=(t=void 0===t?[]:t)instanceof Array?t:[t];try{for(;this.callbacks[e].length;){var n=this.callbacks[e].shift();"function"==typeof n?n.apply(null,t):n instanceof Array&&n[1].apply(n[0],t)}delete this.callbacks[e]}catch(e){}}},executeAll:function(e,t){(t||e&&!y.isObjectEmpty(e))&&Object.keys(this.callbacks).forEach(function(t){var n=void 0!==e[t]?e[t]:"";this.execute(t,n)},this)},hasCallbacks:function(){return Boolean(Object.keys(this.callbacks).length)}}}),_=r,b={0:"prefix",1:"orgID",2:"state"},I=function(e,t){this.parse=function(e){try{var t={};return e.data.split("|").forEach(function(e,n){void 0!==e&&(t[b[n]]=2!==n?e:JSON.parse(e))}),t}catch(e){}},this.isInvalid=function(n){var r=this.parse(n);if(!r||Object.keys(r).length<2)return!0;var i=e!==r.orgID,o=!t||n.origin!==t,a=-1===Object.keys(_).indexOf(r.prefix);return i||o||a},this.send=function(n,r,i){var o=r+"|"+e;i&&i===Object(i)&&(o+="|"+JSON.stringify(i));try{n.postMessage(o,t)}catch(e){}}},w=r,S=function(e,t,r,i){function o(e){Object.assign(l,e)}function a(e){if(!h.isInvalid(e)){p=!1;var t=h.parse(e);l.setStateAndPublish(t.state)}}function s(e){!p&&f&&(p=!0,h.send(i,e))}function u(){o(new d(r._generateID)),l.getMarketingCloudVisitorID(),l.callbackRegistry.executeAll(l.state,!0),n.removeEventListener("message",c)}function c(e){if(!h.isInvalid(e)){var t=h.parse(e);p=!1,n.clearTimeout(l._handshakeTimeout),n.removeEventListener("message",c),o(new g(l)),n.addEventListener("message",a),l.setStateAndPublish(t.state),l.callbackRegistry.hasCallbacks()&&s(w.GETSTATE)}}var l=this,f=t.whitelistParentDomain;l.state={ALLFIELDS:{}},l.version=r.version,l.marketingCloudOrgID=e,l.cookieDomain=r.cookieDomain||"",l._instanceType="child";var p=!1,h=new I(e,f);l.callbackRegistry=v(),l.init=function(){n.s_c_in||(n.s_c_il=[],n.s_c_in=0),l._c="Visitor",l._il=n.s_c_il,l._in=n.s_c_in,l._il[l._in]=l,n.s_c_in++,Object.keys(r).forEach(function(e){0!==e.indexOf("_")&&"function"==typeof r[e]&&(l[e]=function(){})}),l.getSupplementalDataID=r.getSupplementalDataID,l.isAllowed=function(){return!0},o(new function(){Object.keys(m).forEach(function(e){this[m[e]]=function(t){this.callbackRegistry.add(e,t)}},this)}(l)),f&&postMessage?(n.addEventListener("message",c),s(w.HANDSHAKE),l._handshakeTimeout=setTimeout(u,250)):u()},l.findField=function(e,t){if(l.state[e])return t(l.state[e]),l.state[e]},l.messageParent=s,l.setStateAndPublish=function(e){Object.assign(l.state,e),Object.assign(l.state.ALLFIELDS,e),l.callbackRegistry.executeAll(l.state)}},C=r,D=o,A=i,M=a,O=function(e,t){function n(){var t={};return Object.keys(D).forEach(function(n){var r=D[n],i=e[r]();y.isValueEmpty(i)||(t[n]=i)}),t}function r(t){return function n(r){var i=function(){var t=[];return e._loading&&Object.keys(e._loading).forEach(function(n){if(e._loading[n]){var r=M[n];t.push(r)}}),t.length?t:null}();if(i){var o=A[i[0]];e[o](n,!0)}else t()}}function i(e,r){var i=n();t.send(e,r,i)}function o(n){var r=e.setCustomerIDs;e.setCustomerIDs=function(i){r.call(e,i),t.send(n,C.PARENTSTATE,{CUSTOMERIDS:e.getCustomerIDs()})}}return function(e){t.isInvalid(e)||(t.parse(e).prefix===C.HANDSHAKE?function(e){o(e),i(e,C.HANDSHAKE)}:function(e){r(function(){i(e,C.PARENTSTATE)})()})(e.source)}},T=function(t,n){return e(t,n)<0},k=function(t,n){return 0!==e(t,n)},E=!!n.postMessage,P=function(e,t,n){var r=1;t&&(E?n.postMessage(e,t.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):t&&(n.location=t.replace(/#.*$/,"")+"#"+ +new Date+r+++"&"+e))},L=function(e,t){var r;try{E&&(e&&(r=function(n){if("string"==typeof t&&n.origin!==t||"[object Function]"===Object.prototype.toString.call(t)&&!1===t(n.origin))return!1;e(n)}),n.addEventListener?n[e?"addEventListener":"removeEventListener"]("message",r):n[e?"attachEvent":"detachEvent"]("onmessage",r))}catch(e){}},j=function(e){var t,n,r="0123456789",i="",o="",a=8,s=10,u=10;if(1==e){for(r+="ABCDEF",t=0;16>t;t++)n=Math.floor(Math.random()*a),i+=r.substring(n,n+1),n=Math.floor(Math.random()*a),o+=r.substring(n,n+1),a=16;return i+"-"+o}for(t=0;19>t;t++)n=Math.floor(Math.random()*s),i+=r.substring(n,n+1),0===t&&9==n?s=3:(1==t||2==t)&&10!=s&&2>n?s=10:2<t&&(s=10),n=Math.floor(Math.random()*u),o+=r.substring(n,n+1),0===t&&9==n?u=3:(1==t||2==t)&&10!=u&&2>n?u=10:2<t&&(u=10);return i+o},R=function(e,t){return{corsMetadata:function(){var e="none",t=!0;return"undefined"!=typeof XMLHttpRequest&&XMLHttpRequest===Object(XMLHttpRequest)&&("withCredentials"in new XMLHttpRequest?e="XMLHttpRequest":"undefined"!=typeof XDomainRequest&&XDomainRequest===Object(XDomainRequest)&&(t=!1),Object.prototype.toString.call(n.HTMLElement).indexOf("Constructor")>0&&(t=!1)),{corsType:e,corsCookiesEnabled:t}}(),getCORSInstance:function(){return"none"===this.corsMetadata.corsType?null:new n[this.corsMetadata.corsType]},fireCORS:function(t,r,i){var o=this;r&&(t.loadErrorHandler=r);try{var a=this.getCORSInstance();a.open("get",t.corsUrl+"&ts="+(new Date).getTime(),!0),"XMLHttpRequest"===this.corsMetadata.corsType&&(a.withCredentials=!0,a.timeout=e.loadTimeout,a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.onreadystatechange=function(){4===this.readyState&&200===this.status&&function(e){var r;try{if((r=JSON.parse(e))!==Object(r))return void o.handleCORSError(t,null,"Response is not JSON")}catch(e){return void o.handleCORSError(t,e,"Error parsing response as JSON")}try{for(var i=t.callback,a=n,s=0;s<i.length;s++)a=a[i[s]];a(r)}catch(e){o.handleCORSError(t,e,"Error forming callback function")}}(this.responseText)}),a.onerror=function(e){o.handleCORSError(t,e,"onerror")},a.ontimeout=function(e){o.handleCORSError(t,e,"ontimeout")},a.send(),e._log.requests.push(t.corsUrl)}catch(e){this.handleCORSError(t,e,"try-catch")}},handleCORSError:function(t,n,r){e.CORSErrors.push({corsData:t,error:n,description:r}),t.loadErrorHandler&&("ontimeout"===r?t.loadErrorHandler(!0):t.loadErrorHandler(!1))}}},x={POST_MESSAGE_ENABLED:!!n.postMessage,DAYS_BETWEEN_SYNC_ID_CALLS:1,MILLIS_PER_DAY:864e5,ADOBE_MC:"adobe_mc",ADOBE_MC_SDID:"adobe_mc_sdid",VALID_VISITOR_ID_REGEX:/^[0-9a-fA-F\-]+$/,ADOBE_MC_TTL_IN_MIN:5,VERSION_REGEX:/vVersion\|((\d+\.)?(\d+\.)?(\*|\d+))(?=$|\|)/},F={audienceManagerServer:{},audienceManagerServerSecure:{},cookieDomain:{},cookieLifetime:{},cookieName:{},disableThirdPartyCalls:{},idSyncAfterIDCallResult:{},idSyncAttachIframeOnWindowLoad:{},idSyncContainerID:{},idSyncDisable3rdPartySyncing:{},disableThirdPartyCookies:{},idSyncDisableSyncs:{},disableIdSyncs:{},idSyncIDCallResult:{},idSyncSSLUseAkamai:{},isCoopSafe:{},loadSSL:{},loadTimeout:{},marketingCloudServer:{},marketingCloudServerSecure:{},overwriteCrossDomainMCIDAndAID:{},resetBeforeVersion:{},sdidParamExpiry:{},serverState:{},sessionCookieName:{},secureCookie:{},takeTimeoutMetrics:{},trackingServer:{},trackingServerSecure:{},whitelistIframeDomains:{},whitelistParentDomain:{}},N={getConfigNames:function(){return Object.keys(F)},getConfigs:function(){return F}},U=function(e,t,r){function i(e){var t=e;return function(e){var n=e||d.location.href;try{var r=l._extractParamFromUri(n,t);if(r)return A.parsePipeDelimetedKeyValues(r)}catch(e){}}}function o(e){e=e||{},l._supplementalDataIDCurrent=e.supplementalDataIDCurrent||"",l._supplementalDataIDCurrentConsumed=e.supplementalDataIDCurrentConsumed||{},l._supplementalDataIDLast=e.supplementalDataIDLast||"",l._supplementalDataIDLastConsumed=e.supplementalDataIDLastConsumed||{}}function a(e){return function(e){var t=A.getTimestampInSeconds();return(e=e?e+="|":e)+"TS="+t}(e.reduce(function(e,t){var n=t[0],r=t[1];return null!=r&&r!==S&&(e=function(e,t,n){return(n=n?n+="|":n)+(e+"=")+encodeURIComponent(t)}(n,r,e)),e},""))}if(!r||r.split("").reverse().join("")!==e)throw new Error("Please use `Visitor.getInstance` to instantiate Visitor.");var l=this;l.version="3.4.0";var d=n,f=d.Visitor;f.version=l.version,f.AuthState=u,f.OptOut=c,d.s_c_in||(d.s_c_il=[],d.s_c_in=0),l._c="Visitor",l._il=d.s_c_il,l._in=d.s_c_in,l._il[l._in]=l,d.s_c_in++,l._instanceType="regular",l._log={requests:[]},l.marketingCloudOrgID=e,l.cookieName="AMCV_"+e,l.sessionCookieName="AMCVS_"+e,l.cookieDomain=function(e){var t;if(!e&&n.location&&(e=n.location.hostname),t=e)if(/^[0-9.]+$/.test(t))t="";else{var r=t.split("."),i=r.length-1,o=i-1;if(i>1&&r[i].length<=2&&(2===r[i-1].length||",ac,ad,ae,af,ag,ai,al,am,an,ao,aq,ar,as,at,au,aw,ax,az,ba,bb,be,bf,bg,bh,bi,bj,bm,bo,br,bs,bt,bv,bw,by,bz,ca,cc,cd,cf,cg,ch,ci,cl,cm,cn,co,cr,cu,cv,cw,cx,cz,de,dj,dk,dm,do,dz,ec,ee,eg,es,et,eu,fi,fm,fo,fr,ga,gb,gd,ge,gf,gg,gh,gi,gl,gm,gn,gp,gq,gr,gs,gt,gw,gy,hk,hm,hn,hr,ht,hu,id,ie,im,in,io,iq,ir,is,it,je,jo,jp,kg,ki,km,kn,kp,kr,ky,kz,la,lb,lc,li,lk,lr,ls,lt,lu,lv,ly,ma,mc,md,me,mg,mh,mk,ml,mn,mo,mp,mq,mr,ms,mt,mu,mv,mw,mx,my,na,nc,ne,nf,ng,nl,no,nr,nu,nz,om,pa,pe,pf,ph,pk,pl,pm,pn,pr,ps,pt,pw,py,qa,re,ro,rs,ru,rw,sa,sb,sc,sd,se,sg,sh,si,sj,sk,sl,sm,sn,so,sr,st,su,sv,sx,sy,sz,tc,td,tf,tg,th,tj,tk,tl,tm,tn,to,tp,tr,tt,tv,tw,tz,ua,ug,uk,us,uy,uz,va,vc,ve,vg,vi,vn,vu,wf,ws,yt,".indexOf(","+r[i]+",")<0)&&o--,o>0)for(t="";i>=o;)t=r[i]+(t?".":"")+t,i--}return t}(),l.cookieDomain===d.location.hostname&&(l.cookieDomain=""),l.loadSSL=d.location.protocol.toLowerCase().indexOf("https")>=0,l.loadTimeout=3e4,l.CORSErrors=[],l.marketingCloudServer=l.audienceManagerServer="dpm.demdex.net",l.sdidParamExpiry=30;var p=d.document,h=null,g="MCMID",m="MCIDTS",v="A",_="MCAID",b="AAM",w="MCAAMB",S="NONE",C=function(e){return!Object.prototype[e]},D=R(l);l.FIELDS=s,l.cookieRead=function(e){e=encodeURIComponent(e);var t=(";"+p.cookie).split(" ").join(";"),n=t.indexOf(";"+e+"="),r=n<0?n:t.indexOf(";",n+1);return n<0?"":decodeURIComponent(t.substring(n+2+e.length,r<0?t.length:r))},l.cookieWrite=function(e,t,n){var r,i=l.cookieLifetime,o="";if(t=""+t,i=i?(""+i).toUpperCase():"",n&&"SESSION"!==i&&"NONE"!==i){if(r=""!==t?parseInt(i||0,10):-60)(n=new Date).setTime(n.getTime()+1e3*r);else if(1===n){var a=(n=new Date).getYear();n.setYear(a+2+(a<1900?1900:0))}}else n=0;return e&&"NONE"!==i?(l.configs&&l.configs.secureCookie&&"https:"===location.protocol&&(o="Secure"),p.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(n?" expires="+n.toGMTString()+";":"")+(l.cookieDomain?" domain="+l.cookieDomain+";":"")+o,l.cookieRead(e)===t):0},l.resetState=function(e){e?l._mergeServerState(e):o()},l._isAllowedDone=!1,l._isAllowedFlag=!1,l.isAllowed=function(){return l._isAllowedDone||(l._isAllowedDone=!0,(l.cookieRead(l.cookieName)||l.cookieWrite(l.cookieName,"T",1))&&(l._isAllowedFlag=!0)),l._isAllowedFlag},l.setMarketingCloudVisitorID=function(e){l._setMarketingCloudFields(e)},l._use1stPartyMarketingCloudServer=!1,l.getMarketingCloudVisitorID=function(e,t){if(l.isAllowed()){l.marketingCloudServer&&l.marketingCloudServer.indexOf(".demdex.net")<0&&(l._use1stPartyMarketingCloudServer=!0);var n=l._getAudienceManagerURLData("_setMarketingCloudFields"),r=n.url;return l._getRemoteField(g,r,e,t,n)}return""},l.getVisitorValues=function(e,t){var n={MCMID:{fn:l.getMarketingCloudVisitorID,args:[!0],context:l},MCOPTOUT:{fn:l.isOptedOut,args:[void 0,!0],context:l},MCAID:{fn:l.getAnalyticsVisitorID,args:[!0],context:l},MCAAMLH:{fn:l.getAudienceManagerLocationHint,args:[!0],context:l},MCAAMB:{fn:l.getAudienceManagerBlob,args:[!0],context:l}};!function(e,t){function n(e){return function(n){r[e]=n,++i===o&&t(r)}}var r={},i=0,o=Object.keys(e).length;Object.keys(e).forEach(function(t){var r=e[t];if(r.fn){var i=r.args||[];i.unshift(n(t)),r.fn.apply(r.context||null,i)}})}(t&&t.length?A.pluck(n,t):n,e)},l._currentCustomerIDs={},l._customerIDsHashChanged=!1,l._newCustomerIDsHash="",l.setCustomerIDs=function(e){if(l.isAllowed()&&e){if(!y.isObject(e)||y.isObjectEmpty(e))return!1;var t,n;for(t in l._readVisitor(),e)if(C(t)&&(n=e[t]))if("object"==typeof n){var r={};n.id&&(r.id=n.id),void 0!=n.authState&&(r.authState=n.authState),l._currentCustomerIDs[t]=r}else l._currentCustomerIDs[t]={id:n};var i=l.getCustomerIDs(),o=l._getField("MCCIDH"),a="";for(t in o||(o=0),i)C(t)&&(n=i[t],a+=(a?"|":"")+t+"|"+(n.id?n.id:"")+(n.authState?n.authState:""));l._newCustomerIDsHash=String(l._hash(a)),l._newCustomerIDsHash!==o&&(l._customerIDsHashChanged=!0,l._mapCustomerIDs(function(){l._customerIDsHashChanged=!1}))}},l.getCustomerIDs=function(){l._readVisitor();var e,t,n={};for(e in l._currentCustomerIDs)C(e)&&(t=l._currentCustomerIDs[e],n[e]||(n[e]={}),t.id&&(n[e].id=t.id),void 0!=t.authState?n[e].authState=t.authState:n[e].authState=f.AuthState.UNKNOWN);return n},l.setAnalyticsVisitorID=function(e){l._setAnalyticsFields(e)},l.getAnalyticsVisitorID=function(e,t,n){if(!A.isTrackingServerPopulated()&&!n)return l._callCallback(e,[""]),"";if(l.isAllowed()){var r="";if(n||(r=l.getMarketingCloudVisitorID(function(t){l.getAnalyticsVisitorID(e,!0)})),r||n){var i=n?l.marketingCloudServer:l.trackingServer,o="";l.loadSSL&&(n?l.marketingCloudServerSecure&&(i=l.marketingCloudServerSecure):l.trackingServerSecure&&(i=l.trackingServerSecure));var a={};if(i){var s="http"+(l.loadSSL?"s":"")+"://"+i+"/id",u="d_visid_ver="+l.version+"&mcorgid="+encodeURIComponent(l.marketingCloudOrgID)+(r?"&mid="+encodeURIComponent(r):"")+(l.idSyncDisable3rdPartySyncing||l.disableThirdPartyCookies?"&d_coppa=true":""),c=["s_c_il",l._in,"_set"+(n?"MarketingCloud":"Analytics")+"Fields"];o=s+"?"+u+"&callback=s_c_il%5B"+l._in+"%5D._set"+(n?"MarketingCloud":"Analytics")+"Fields",a.corsUrl=s+"?"+u,a.callback=c}return a.url=o,l._getRemoteField(n?g:_,o,e,t,a)}}return""},l.getAudienceManagerLocationHint=function(e,t){if(l.isAllowed()&&l.getMarketingCloudVisitorID(function(t){l.getAudienceManagerLocationHint(e,!0)})){var n=l._getField(_);if(!n&&A.isTrackingServerPopulated()&&(n=l.getAnalyticsVisitorID(function(t){l.getAudienceManagerLocationHint(e,!0)})),n||!A.isTrackingServerPopulated()){var r=l._getAudienceManagerURLData(),i=r.url;return l._getRemoteField("MCAAMLH",i,e,t,r)}}return""},l.getLocationHint=l.getAudienceManagerLocationHint,l.getAudienceManagerBlob=function(e,t){if(l.isAllowed()&&l.getMarketingCloudVisitorID(function(t){l.getAudienceManagerBlob(e,!0)})){var n=l._getField(_);if(!n&&A.isTrackingServerPopulated()&&(n=l.getAnalyticsVisitorID(function(t){l.getAudienceManagerBlob(e,!0)})),n||!A.isTrackingServerPopulated()){var r=l._getAudienceManagerURLData(),i=r.url;return l._customerIDsHashChanged&&l._setFieldExpire(w,-1),l._getRemoteField(w,i,e,t,r)}}return""},l._supplementalDataIDCurrent="",l._supplementalDataIDCurrentConsumed={},l._supplementalDataIDLast="",l._supplementalDataIDLastConsumed={},l.getSupplementalDataID=function(e,t){l._supplementalDataIDCurrent||t||(l._supplementalDataIDCurrent=l._generateID(1));var n=l._supplementalDataIDCurrent;return l._supplementalDataIDLast&&!l._supplementalDataIDLastConsumed[e]?(n=l._supplementalDataIDLast,l._supplementalDataIDLastConsumed[e]=!0):n&&(l._supplementalDataIDCurrentConsumed[e]&&(l._supplementalDataIDLast=l._supplementalDataIDCurrent,l._supplementalDataIDLastConsumed=l._supplementalDataIDCurrentConsumed,l._supplementalDataIDCurrent=n=t?"":l._generateID(1),l._supplementalDataIDCurrentConsumed={}),n&&(l._supplementalDataIDCurrentConsumed[e]=!0)),n},l.getOptOut=function(e,t){if(l.isAllowed()){var n=l._getAudienceManagerURLData("_setMarketingCloudFields"),r=n.url;return l._getRemoteField("MCOPTOUT",r,e,t,n)}return""},l.isOptedOut=function(e,t,n){if(l.isAllowed()){t||(t=f.OptOut.GLOBAL);var r=l.getOptOut(function(n){var r=n===f.OptOut.GLOBAL||n.indexOf(t)>=0;l._callCallback(e,[r])},n);return r?r===f.OptOut.GLOBAL||r.indexOf(t)>=0:null}return!1},l._fields=null,l._fieldsExpired=null,l._hash=function(e){var t,n=0;if(e)for(t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n&=n;return n},l._generateID=j,l._generateLocalMID=function(){var e=l._generateID(0);return E.isClientSideMarketingCloudVisitorID=!0,e},l._callbackList=null,l._callCallback=function(e,t){try{"function"==typeof e?e.apply(d,t):e[1].apply(e[0],t)}catch(e){}},l._registerCallback=function(e,t){t&&(null==l._callbackList&&(l._callbackList={}),void 0==l._callbackList[e]&&(l._callbackList[e]=[]),l._callbackList[e].push(t))},l._callAllCallbacks=function(e,t){if(null!=l._callbackList){var n=l._callbackList[e];if(n)for(;n.length>0;)l._callCallback(n.shift(),t)}},l._addQuerystringParam=function(e,t,n,r){var i=encodeURIComponent(t)+"="+encodeURIComponent(n),o=A.parseHash(e),a=A.hashlessUrl(e);if(-1===a.indexOf("?"))return a+"?"+i+o;var s=a.split("?"),u=s[0]+"?",c=s[1];return u+A.addQueryParamAtLocation(c,i,r)+o},l._extractParamFromUri=function(e,t){var n=new RegExp("[\\?&#]"+t+"=([^&#]*)").exec(e);if(n&&n.length)return decodeURIComponent(n[1])},l._parseAdobeMcFromUrl=i(x.ADOBE_MC),l._parseAdobeMcSdidFromUrl=i(x.ADOBE_MC_SDID),l._attemptToPopulateSdidFromUrl=function(t){var n=l._parseAdobeMcSdidFromUrl(t),r=1e9;n&&n.TS&&(r=A.getTimestampInSeconds()-n.TS),n&&n.SDID&&n.MCORGID===e&&r<l.sdidParamExpiry&&(l._supplementalDataIDCurrent=n.SDID,l._supplementalDataIDCurrentConsumed.SDID_URL_PARAM=!0)},l._attemptToPopulateIdsFromUrl=function(){var t=l._parseAdobeMcFromUrl();if(t&&t.TS){var n=A.getTimestampInSeconds()-t.TS;if(Math.floor(n/60)>x.ADOBE_MC_TTL_IN_MIN||t.MCORGID!==e)return;!function(e){function t(e,t){e&&e.match(x.VALID_VISITOR_ID_REGEX)&&t(e)}t(e[g],l.setMarketingCloudVisitorID),l._setFieldExpire(w,-1),t(e[_],l.setAnalyticsVisitorID)}(t)}},l._mergeServerState=function(e){if(e)try{if((e=function(e){return A.isObject(e)?e:JSON.parse(e)}(e))[l.marketingCloudOrgID]){var t=e[l.marketingCloudOrgID];!function(e){A.isObject(e)&&l.setCustomerIDs(e)}(t.customerIDs),o(t.sdid)}}catch(e){throw new Error("`serverState` has an invalid format.")}},l._timeout=null,l._loadData=function(e,t,n,r){t=l._addQuerystringParam(t,"d_fieldgroup",e,1),r.url=l._addQuerystringParam(r.url,"d_fieldgroup",e,1),r.corsUrl=l._addQuerystringParam(r.corsUrl,"d_fieldgroup",e,1),E.fieldGroupObj[e]=!0,r===Object(r)&&r.corsUrl&&"XMLHttpRequest"===D.corsMetadata.corsType&&D.fireCORS(r,n,e)},l._clearTimeout=function(e){null!=l._timeout&&l._timeout[e]&&(clearTimeout(l._timeout[e]),l._timeout[e]=0)},l._settingsDigest=0,l._getSettingsDigest=function(){if(!l._settingsDigest){var e=l.version;l.audienceManagerServer&&(e+="|"+l.audienceManagerServer),l.audienceManagerServerSecure&&(e+="|"+l.audienceManagerServerSecure),l._settingsDigest=l._hash(e)}return l._settingsDigest},l._readVisitorDone=!1,l._readVisitor=function(){if(!l._readVisitorDone){l._readVisitorDone=!0;var e,t,n,r,i,o,a=l._getSettingsDigest(),s=!1,u=l.cookieRead(l.cookieName),c=new Date;if(null==l._fields&&(l._fields={}),u&&"T"!==u)for((u=u.split("|"))[0].match(/^[\-0-9]+$/)&&(parseInt(u[0],10)!==a&&(s=!0),u.shift()),u.length%2==1&&u.pop(),e=0;e<u.length;e+=2)n=(t=u[e].split("-"))[0],r=u[e+1],t.length>1?(i=parseInt(t[1],10),o=t[1].indexOf("s")>0):(i=0,o=!1),s&&("MCCIDH"===n&&(r=""),i>0&&(i=c.getTime()/1e3-60)),n&&r&&(l._setField(n,r,1),i>0&&(l._fields["expire"+n]=i+(o?"s":""),(c.getTime()>=1e3*i||o&&!l.cookieRead(l.sessionCookieName))&&(l._fieldsExpired||(l._fieldsExpired={}),l._fieldsExpired[n]=!0)));!l._getField(_)&&A.isTrackingServerPopulated()&&(u=l.cookieRead("s_vi"))&&((u=u.split("|")).length>1&&u[0].indexOf("v1")>=0&&((e=(r=u[1]).indexOf("["))>=0&&(r=r.substring(0,e)),r&&r.match(x.VALID_VISITOR_ID_REGEX)&&l._setField(_,r)))}},l._appendVersionTo=function(e){var t="vVersion|"+l.version,n=e?l._getCookieVersion(e):null;return n?k(n,l.version)&&(e=e.replace(x.VERSION_REGEX,t)):e+=(e?"|":"")+t,e},l._writeVisitor=function(){var e,t,n=l._getSettingsDigest();for(e in l._fields)C(e)&&l._fields[e]&&"expire"!==e.substring(0,6)&&(t=l._fields[e],n+=(n?"|":"")+e+(l._fields["expire"+e]?"-"+l._fields["expire"+e]:"")+"|"+t);n=l._appendVersionTo(n),l.cookieWrite(l.cookieName,n,1)},l._getField=function(e,t){return null==l._fields||!t&&l._fieldsExpired&&l._fieldsExpired[e]?null:l._fields[e]},l._setField=function(e,t,n){null==l._fields&&(l._fields={}),l._fields[e]=t,n||l._writeVisitor()},l._getFieldList=function(e,t){var n=l._getField(e,t);return n?n.split("*"):null},l._setFieldList=function(e,t,n){l._setField(e,t?t.join("*"):"",n)},l._getFieldMap=function(e,t){var n=l._getFieldList(e,t);if(n){var r,i={};for(r=0;r<n.length;r+=2)i[n[r]]=n[r+1];return i}return null},l._setFieldMap=function(e,t,n){var r,i=null;if(t)for(r in i=[],t)C(r)&&(i.push(r),i.push(t[r]));l._setFieldList(e,i,n)},l._setFieldExpire=function(e,t,n){var r=new Date;r.setTime(r.getTime()+1e3*t),null==l._fields&&(l._fields={}),l._fields["expire"+e]=Math.floor(r.getTime()/1e3)+(n?"s":""),t<0?(l._fieldsExpired||(l._fieldsExpired={}),l._fieldsExpired[e]=!0):l._fieldsExpired&&(l._fieldsExpired[e]=!1),n&&(l.cookieRead(l.sessionCookieName)||l.cookieWrite(l.sessionCookieName,"1"))},l._findVisitorID=function(e){return e&&("object"==typeof e&&(e=e.d_mid?e.d_mid:e.visitorID?e.visitorID:e.id?e.id:e.uuid?e.uuid:""+e),e&&"NOTARGET"===(e=e.toUpperCase())&&(e=S),e&&(e===S||e.match(x.VALID_VISITOR_ID_REGEX))||(e="")),e},l._setFields=function(e,t){if(l._clearTimeout(e),null!=l._loading&&(l._loading[e]=!1),E.fieldGroupObj[e]&&E.setState(e,!1),"MC"===e){!0!==E.isClientSideMarketingCloudVisitorID&&(E.isClientSideMarketingCloudVisitorID=!1);var n=l._getField(g);if(!n||l.overwriteCrossDomainMCIDAndAID){if(!(n="object"==typeof t&&t.mid?t.mid:l._findVisitorID(t))){if(l._use1stPartyMarketingCloudServer&&!l.tried1stPartyMarketingCloudServer)return l.tried1stPartyMarketingCloudServer=!0,void l.getAnalyticsVisitorID(null,!1,!0);n=l._generateLocalMID()}l._setField(g,n)}n&&n!==S||(n=""),"object"==typeof t&&((t.d_region||t.dcs_region||t.d_blob||t.blob)&&l._setFields(b,t),l._use1stPartyMarketingCloudServer&&t.mid&&l._setFields(v,{id:t.id})),l._callAllCallbacks(g,[n])}if(e===b&&"object"==typeof t){var r=604800;void 0!=t.id_sync_ttl&&t.id_sync_ttl&&(r=parseInt(t.id_sync_ttl,10));var i=M.getRegionAndCheckIfChanged(t,r);l._callAllCallbacks("MCAAMLH",[i]);var o=l._getField(w);(t.d_blob||t.blob)&&((o=t.d_blob)||(o=t.blob),l._setFieldExpire(w,r),l._setField(w,o)),o||(o=""),l._callAllCallbacks(w,[o]),!t.error_msg&&l._newCustomerIDsHash&&l._setField("MCCIDH",l._newCustomerIDsHash)}if(e===v){var a=l._getField(_);a&&!l.overwriteCrossDomainMCIDAndAID||((a=l._findVisitorID(t))?a!==S&&l._setFieldExpire(w,-1):a=S,l._setField(_,a)),a&&a!==S||(a=""),l._callAllCallbacks(_,[a])}if(l.idSyncDisableSyncs||l.disableIdSyncs)M.idCallNotProcesssed=!0;else{M.idCallNotProcesssed=!1;var s={};s.ibs=t.ibs,s.subdomain=t.subdomain,M.processIDCallData(s)}var u,c;t===Object(t)&&(l.isAllowed()&&(u=l._getField("MCOPTOUT")),u||(u=S,t.d_optout&&t.d_optout instanceof Array&&(u=t.d_optout.join(",")),c=parseInt(t.d_ottl,10),isNaN(c)&&(c=7200),l._setFieldExpire("MCOPTOUT",c,!0),l._setField("MCOPTOUT",u)),l._callAllCallbacks("MCOPTOUT",[u]))},l._loading=null,l._getRemoteField=function(e,t,n,r,i){var o,a="",s=A.isFirstPartyAnalyticsVisitorIDCall(e);if(l.isAllowed())if(l._readVisitor(),!(!(a=l._getField(e,!0==={MCAAMLH:!0,MCAAMB:!0}[e]))||l._fieldsExpired&&l._fieldsExpired[e])||l.disableThirdPartyCalls&&!s)a||(e===g?(l._registerCallback(e,n),a=l._generateLocalMID(),l.setMarketingCloudVisitorID(a)):e===_?(l._registerCallback(e,n),a="",l.setAnalyticsVisitorID(a)):(a="",r=!0));else if(e===g||"MCOPTOUT"===e?o="MC":"MCAAMLH"===e||e===w?o=b:e===_&&(o=v),o)return!t||null!=l._loading&&l._loading[o]||(null==l._loading&&(l._loading={}),l._loading[o]=!0,l._loadData(o,t,function(t){if(!l._getField(e)){t&&E.setState(o,!0);var n="";e===g?n=l._generateLocalMID():o===b&&(n={error_msg:"timeout"}),l._setFields(o,n)}},i)),l._registerCallback(e,n),a||(t||l._setFields(o,{id:S}),"");return e!==g&&e!==_||a!==S||(a="",r=!0),n&&r&&l._callCallback(n,[a]),a},l._setMarketingCloudFields=function(e){l._readVisitor(),l._setFields("MC",e)},l._mapCustomerIDs=function(e){l.getAudienceManagerBlob(e,!0)},l._setAnalyticsFields=function(e){l._readVisitor(),l._setFields(v,e)},l._setAudienceManagerFields=function(e){l._readVisitor(),l._setFields(b,e)},l._getAudienceManagerURLData=function(e){var t=l.audienceManagerServer,n="",r=l._getField(g),i=l._getField(w,!0),o=l._getField(_),a=o&&o!==S?"&d_cid_ic=AVID%01"+encodeURIComponent(o):"";if(l.loadSSL&&l.audienceManagerServerSecure&&(t=l.audienceManagerServerSecure),t){var s,u,c=l.getCustomerIDs();if(c)for(s in c)C(s)&&(u=c[s],a+="&d_cid_ic="+encodeURIComponent(s)+"%01"+encodeURIComponent(u.id?u.id:"")+(u.authState?"%01"+u.authState:""));e||(e="_setAudienceManagerFields");var d="http"+(l.loadSSL?"s":"")+"://"+t+"/id",f="d_visid_ver="+l.version+"&d_rtbd=json&d_ver=2"+(!r&&l._use1stPartyMarketingCloudServer?"&d_verify=1":"")+"&d_orgid="+encodeURIComponent(l.marketingCloudOrgID)+"&d_nsid="+(l.idSyncContainerID||0)+(r?"&d_mid="+encodeURIComponent(r):"")+(l.idSyncDisable3rdPartySyncing||l.disableThirdPartyCookies?"&d_coppa=true":"")+(!0===h?"&d_coop_safe=1":!1===h?"&d_coop_unsafe=1":"")+(i?"&d_blob="+encodeURIComponent(i):"")+a,p=["s_c_il",l._in,e];return{url:n=d+"?"+f+"&d_cb=s_c_il%5B"+l._in+"%5D."+e,corsUrl:d+"?"+f,callback:p}}return{url:n}},l.appendVisitorIDsTo=function(e){try{var t=[[g,l._getField(g)],[_,l._getField(_)],["MCORGID",l.marketingCloudOrgID]];return l._addQuerystringParam(e,x.ADOBE_MC,a(t))}catch(t){return e}},l.appendSupplementalDataIDTo=function(e,t){if(!(t=t||l.getSupplementalDataID(A.generateRandomString(),!0)))return e;try{var n=a([["SDID",t],["MCORGID",l.marketingCloudOrgID]]);return l._addQuerystringParam(e,x.ADOBE_MC_SDID,n)}catch(t){return e}};var A={parseHash:function(e){var t=e.indexOf("#");return t>0?e.substr(t):""},hashlessUrl:function(e){var t=e.indexOf("#");return t>0?e.substr(0,t):e},addQueryParamAtLocation:function(e,t,n){var r=e.split("&");return n=null!=n?n:r.length,r.splice(n,0,t),r.join("&")},isFirstPartyAnalyticsVisitorIDCall:function(e,t,n){return e===_&&(t||(t=l.trackingServer),n||(n=l.trackingServerSecure),!("string"!=typeof(r=l.loadSSL?n:t)||!r.length)&&r.indexOf("2o7.net")<0&&r.indexOf("omtrdc.net")<0);var r},isObject:function(e){return Boolean(e&&e===Object(e))},removeCookie:function(e){document.cookie=encodeURIComponent(e)+"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;"+(l.cookieDomain?" domain="+l.cookieDomain+";":"")},isTrackingServerPopulated:function(){return!!l.trackingServer||!!l.trackingServerSecure},getTimestampInSeconds:function(){return Math.round((new Date).getTime()/1e3)},parsePipeDelimetedKeyValues:function(e){return e.split("|").reduce(function(e,t){var n=t.split("=");return e[n[0]]=decodeURIComponent(n[1]),e},{})},generateRandomString:function(e){e=e||5;for(var t="",n="abcdefghijklmnopqrstuvwxyz0123456789";e--;)t+=n[Math.floor(Math.random()*n.length)];return t},normalizeBoolean:function(e){return"true"===e||"false"!==e&&e},parseBoolean:function(e){return"true"===e||"false"!==e&&null},replaceMethodsWithFunction:function(e,t){for(var n in e)e.hasOwnProperty(n)&&"function"==typeof e[n]&&(e[n]=t);return e},pluck:function(e,t){return t.reduce(function(t,n){return e[n]&&(t[n]=e[n]),t},Object.create(null))}};l._helpers=A;var M=function(e,t){var r=n.document;return{THROTTLE_START:3e4,MAX_SYNCS_LENGTH:649,throttleTimerSet:!1,id:null,onPagePixels:[],iframeHost:null,getIframeHost:function(e){if("string"==typeof e){var t=e.split("/");return t[0]+"//"+t[2]}},subdomain:null,url:null,getUrl:function(){var t,n="/__wel_absolute/fast.",i="?d_nsid="+e.idSyncContainerID+"#"+encodeURIComponent(r.location.origin);return this.subdomain||(this.subdomain="nosubdomainreturned"),e.loadSSL&&(n=e.idSyncSSLUseAkamai?"/__wel_absolute/fast.":"https://"),t=n+this.subdomain+".demdex.net/dest5.html"+i,this.iframeHost=this.getIframeHost(t),this.id="destination_publishing_iframe_"+this.subdomain+"_"+e.idSyncContainerID,t},checkDPIframeSrc:function(){var t="?d_nsid="+e.idSyncContainerID+"#"+encodeURIComponent(r.location.href);"string"==typeof e.dpIframeSrc&&e.dpIframeSrc.length&&(this.id="destination_publishing_iframe_"+(e._subdomain||this.subdomain||(new Date).getTime())+"_"+e.idSyncContainerID,this.iframeHost=this.getIframeHost(e.dpIframeSrc),this.url=e.dpIframeSrc+t)},idCallNotProcesssed:null,doAttachIframe:!1,startedAttachingIframe:!1,iframeHasLoaded:null,iframeIdChanged:null,newIframeCreated:null,originalIframeHasLoadedAlready:null,iframeLoadedCallbacks:[],regionChanged:!1,timesRegionChanged:0,sendingMessages:!1,messages:[],messagesPosted:[],messagesReceived:[],messageSendingInterval:x.POST_MESSAGE_ENABLED?null:100,jsonForComparison:[],jsonDuplicates:[],jsonWaiting:[],jsonProcessed:[],canSetThirdPartyCookies:!0,receivedThirdPartyCookiesNotification:!1,readyToAttachIframePreliminary:function(){return!(e.idSyncDisableSyncs||e.disableIdSyncs||e.idSyncDisable3rdPartySyncing||e.disableThirdPartyCookies||e.disableThirdPartyCalls)},readyToAttachIframe:function(){return this.readyToAttachIframePreliminary()&&(this.doAttachIframe||e._doAttachIframe)&&(this.subdomain&&"nosubdomainreturned"!==this.subdomain||e._subdomain)&&this.url&&!this.startedAttachingIframe},attachIframe:function(){function e(){(i=r.createElement("iframe")).sandbox="allow-scripts allow-same-origin",i.title="Adobe ID Syncing iFrame",i.id=n.id,i.name=n.id+"_name",i.style.cssText="display: none; width: 0; height: 0;",i.src=n.url,n.newIframeCreated=!0,t(),r.body.appendChild(i)}function t(e){i.addEventListener("load",function(){i.className="aamIframeLoaded",n.iframeHasLoaded=!0,n.fireIframeLoadedCallbacks(e),n.requestToProcess()})}this.startedAttachingIframe=!0;var n=this,i=r.getElementById(this.id);i?"IFRAME"!==i.nodeName?(this.id+="_2",this.iframeIdChanged=!0,e()):(this.newIframeCreated=!1,"aamIframeLoaded"!==i.className?(this.originalIframeHasLoadedAlready=!1,t("The destination publishing iframe already exists from a different library, but hadn't loaded yet.")):(this.originalIframeHasLoadedAlready=!0,this.iframeHasLoaded=!0,this.iframe=i,this.fireIframeLoadedCallbacks("The destination publishing iframe already exists from a different library, and had loaded alresady."),this.requestToProcess())):e(),this.iframe=i},fireIframeLoadedCallbacks:function(e){this.iframeLoadedCallbacks.forEach(function(t){"function"==typeof t&&t({message:e||"The destination publishing iframe was attached and loaded successfully."})}),this.iframeLoadedCallbacks=[]},requestToProcess:function(t){function n(){i.jsonForComparison.push(t),i.jsonWaiting.push(t),i.processSyncOnPage(t)}var r,i=this;if(t===Object(t)&&t.ibs)if(r=JSON.stringify(t.ibs||[]),this.jsonForComparison.length){var o,a,s,u=!1;for(o=0,a=this.jsonForComparison.length;o<a;o++)if(s=this.jsonForComparison[o],r===JSON.stringify(s.ibs||[])){u=!0;break}u?this.jsonDuplicates.push(t):n()}else n();if((this.receivedThirdPartyCookiesNotification||!x.POST_MESSAGE_ENABLED||this.iframeHasLoaded)&&this.jsonWaiting.length){var c=this.jsonWaiting.shift();this.process(c),this.requestToProcess()}e.idSyncDisableSyncs||e.disableIdSyncs||!this.iframeHasLoaded||!this.messages.length||this.sendingMessages||(this.throttleTimerSet||(this.throttleTimerSet=!0,setTimeout(function(){i.messageSendingInterval=x.POST_MESSAGE_ENABLED?null:150},this.THROTTLE_START)),this.sendingMessages=!0,this.sendMessages())},getRegionAndCheckIfChanged:function(t,n){var r=e._getField("MCAAMLH"),i=t.d_region||t.dcs_region;return r?i&&(e._setFieldExpire("MCAAMLH",n),e._setField("MCAAMLH",i),parseInt(r,10)!==i&&(this.regionChanged=!0,this.timesRegionChanged++,e._setField("MCSYNCSOP",""),e._setField("MCSYNCS",""),r=i)):(r=i)&&(e._setFieldExpire("MCAAMLH",n),e._setField("MCAAMLH",r)),r||(r=""),r},processSyncOnPage:function(e){var t,n,r,i;if((t=e.ibs)&&t instanceof Array&&(n=t.length))for(r=0;r<n;r++)(i=t[r]).syncOnPage&&this.checkFirstPartyCookie(i,"","syncOnPage")},process:function(e){var t,n,r,i,o,a=encodeURIComponent,s=!1;if((t=e.ibs)&&t instanceof Array&&(n=t.length))for(s=!0,r=0;r<n;r++)i=t[r],o=[a("ibs"),a(i.id||""),a(i.tag||""),y.encodeAndBuildRequest(i.url||[],","),a(i.ttl||""),"","",i.fireURLSync?"true":"false"],i.syncOnPage||(this.canSetThirdPartyCookies?this.addMessage(o.join("|")):i.fireURLSync&&this.checkFirstPartyCookie(i,o.join("|")));s&&this.jsonProcessed.push(e)},checkFirstPartyCookie:function(t,n,r){var i="syncOnPage"===r,o=i?"MCSYNCSOP":"MCSYNCS";e._readVisitor();var a,s,u=e._getField(o),c=!1,l=!1,d=Math.ceil((new Date).getTime()/x.MILLIS_PER_DAY);u?(a=u.split("*"),c=(s=this.pruneSyncData(a,t.id,d)).dataPresent,l=s.dataValid,c&&l||this.fireSync(i,t,n,a,o,d)):(a=[],this.fireSync(i,t,n,a,o,d))},pruneSyncData:function(e,t,n){var r,i,o,a=!1,s=!1;for(i=0;i<e.length;i++)r=e[i],o=parseInt(r.split("-")[1],10),r.match("^"+t+"-")?(a=!0,n<o?s=!0:(e.splice(i,1),i--)):n>=o&&(e.splice(i,1),i--);return{dataPresent:a,dataValid:s}},manageSyncsSize:function(e){if(e.join("*").length>this.MAX_SYNCS_LENGTH)for(e.sort(function(e,t){return parseInt(e.split("-")[1],10)-parseInt(t.split("-")[1],10)});e.join("*").length>this.MAX_SYNCS_LENGTH;)e.shift()},fireSync:function(t,n,r,i,o,a){var s=this;if(t){if("img"===n.tag){var u,c,l,d,f=n.url,p=e.loadSSL?"https:":"http:";for(u=0,c=f.length;u<c;u++){l=f[u],d=/^\/\//.test(l);var h=new Image;h.addEventListener("load",function(t,n,r,i){return function(){s.onPagePixels[t]=null,e._readVisitor();var a,u,c,l,d=e._getField(o),f=[];if(d)for(u=0,c=(a=d.split("*")).length;u<c;u++)(l=a[u]).match("^"+n.id+"-")||f.push(l);s.setSyncTrackingData(f,n,r,i)}}(this.onPagePixels.length,n,o,a)),h.src=(d?p:"")+l,this.onPagePixels.push(h)}}}else this.addMessage(r),this.setSyncTrackingData(i,n,o,a)},addMessage:function(t){var n=encodeURIComponent(e._enableErrorReporting?"---destpub-debug---":"---destpub---");this.messages.push((x.POST_MESSAGE_ENABLED?"":n)+t)},setSyncTrackingData:function(t,n,r,i){t.push(n.id+"-"+(i+Math.ceil(n.ttl/60/24))),this.manageSyncsSize(t),e._setField(r,t.join("*"))},sendMessages:function(){var e,t=this,n="",r=encodeURIComponent;this.regionChanged&&(n=r("---destpub-clear-dextp---"),this.regionChanged=!1),this.messages.length?x.POST_MESSAGE_ENABLED?(e=n+r("---destpub-combined---")+this.messages.join("%01"),this.postMessage(e),this.messages=[],this.sendingMessages=!1):(e=this.messages.shift(),this.postMessage(n+e),setTimeout(function(){t.sendMessages()},this.messageSendingInterval)):this.sendingMessages=!1},postMessage:function(e){P(e,this.url,this.iframe.contentWindow),this.messagesPosted.push(e)},receiveMessage:function(e){var t,n=/^---destpub-to-parent---/;"string"==typeof e&&n.test(e)&&("canSetThirdPartyCookies"===(t=e.replace(n,"").split("|"))[0]&&(this.canSetThirdPartyCookies="true"===t[1],this.receivedThirdPartyCookiesNotification=!0,this.requestToProcess()),this.messagesReceived.push(e))},processIDCallData:function(n){(null==this.url||n.subdomain&&"nosubdomainreturned"===this.subdomain)&&("string"==typeof e._subdomain&&e._subdomain.length?this.subdomain=e._subdomain:this.subdomain=n.subdomain||"",this.url=this.getUrl()),n.ibs instanceof Array&&n.ibs.length&&(this.doAttachIframe=!0),this.readyToAttachIframe()&&(e.idSyncAttachIframeOnWindowLoad?(t.windowLoaded||"complete"===r.readyState||"loaded"===r.readyState)&&this.attachIframe():this.attachIframeASAP()),"function"==typeof e.idSyncIDCallResult?e.idSyncIDCallResult(n):this.requestToProcess(n),"function"==typeof e.idSyncAfterIDCallResult&&e.idSyncAfterIDCallResult(n)},canMakeSyncIDCall:function(t,n){return e._forceSyncIDCall||!t||n-t>x.DAYS_BETWEEN_SYNC_ID_CALLS},attachIframeASAP:function(){var e=this;!function t(){e.startedAttachingIframe||(r.body?e.attachIframe():setTimeout(t,30))}()}}}(l,f);l._destinationPublishing=M,l.timeoutMetricsLog=[];var E={isClientSideMarketingCloudVisitorID:null,MCIDCallTimedOut:null,AnalyticsIDCallTimedOut:null,AAMIDCallTimedOut:null,fieldGroupObj:{},setState:function(e,t){switch(e){case"MC":!1===t?!0!==this.MCIDCallTimedOut&&(this.MCIDCallTimedOut=!1):this.MCIDCallTimedOut=t;break;case v:!1===t?!0!==this.AnalyticsIDCallTimedOut&&(this.AnalyticsIDCallTimedOut=!1):this.AnalyticsIDCallTimedOut=t;break;case b:!1===t?!0!==this.AAMIDCallTimedOut&&(this.AAMIDCallTimedOut=!1):this.AAMIDCallTimedOut=t}}};l.isClientSideMarketingCloudVisitorID=function(){return E.isClientSideMarketingCloudVisitorID},l.MCIDCallTimedOut=function(){return E.MCIDCallTimedOut},l.AnalyticsIDCallTimedOut=function(){return E.AnalyticsIDCallTimedOut},l.AAMIDCallTimedOut=function(){return E.AAMIDCallTimedOut},l.idSyncGetOnPageSyncInfo=function(){return l._readVisitor(),l._getField("MCSYNCSOP")},l.idSyncByURL=function(e){var t=function(e){var t=e.minutesToLive,n="";return(l.idSyncDisableSyncs||l.disableIdSyncs)&&(n=n||"Error: id syncs have been disabled"),"string"==typeof e.dpid&&e.dpid.length||(n=n||"Error: config.dpid is empty"),"string"==typeof e.url&&e.url.length||(n=n||"Error: config.url is empty"),void 0===t?t=20160:(t=parseInt(t,10),(isNaN(t)||t<=0)&&(n=n||"Error: config.minutesToLive needs to be a positive number")),{error:n,ttl:t}}(e||{});if(t.error)return t.error;var n,r,i=e.url,o=encodeURIComponent,a=M;return i=i.replace(/^https:/,"").replace(/^http:/,""),n=y.encodeAndBuildRequest(["",e.dpid,e.dpuuid||""],","),r=["ibs",o(e.dpid),"img",o(i),t.ttl,"",n],a.addMessage(r.join("|")),a.requestToProcess(),"Successfully queued"},l.idSyncByDataSource=function(e){return e===Object(e)&&"string"==typeof e.dpuuid&&e.dpuuid.length?(e.url="/__wel_absolute/dpm.demdex.net/ibs:dpid="+e.dpid+"&dpuuid="+e.dpuuid,l.idSyncByURL(e)):"Error: config or config.dpuuid is empty"},l.publishDestinations=function(e,t,n){if(n="function"==typeof n?n:function(){},"string"==typeof e&&e.length)if(t instanceof Array&&t.length){var r=M;if(r.readyToAttachIframePreliminary()){var i=!1;t.forEach(function(e){"string"==typeof e&&e.length&&(r.addMessage(e),i=!0)}),i?r.iframe?(n({message:"The destination publishing iframe is already attached and loaded."}),r.requestToProcess()):!l.subdomain&&l._getField(g)?(r.subdomain=e,r.doAttachIframe=!0,r.url=r.getUrl(),r.readyToAttachIframe()?(r.iframeLoadedCallbacks.push(function(e){n({message:"Attempted to attach and load the destination publishing iframe through this API call. Result: "+(e.message||"no result")})}),r.attachIframe()):n({error:"Encountered a problem in attempting to attach and load the destination publishing iframe through this API call."})):r.iframeLoadedCallbacks.push(function(e){n({message:"Attempted to attach and load the destination publishing iframe through normal Visitor API processing. Result: "+(e.message||"no result")})}):n({error:"None of the messages are populated strings."})}else n({error:"The destination publishing iframe is disabled in the Visitor library."})}else n({error:"messages is not a populated array."});else n({error:"subdomain is not a populated string."})},l._getCookieVersion=function(e){e=e||l.cookieRead(l.cookieName);var t=x.VERSION_REGEX.exec(e);return t&&t.length>1?t[1]:null},l._resetAmcvCookie=function(e){var t=l._getCookieVersion();t&&!T(t,e)||A.removeCookie(l.cookieName)},l.setAsCoopSafe=function(){h=!0},l.setAsCoopUnsafe=function(){h=!1},l.init=function(){!function(){var e=null;if(t&&"object"==typeof t){for(var n in l.configs=Object.create(null),t)C(n)&&(e=A.normalizeBoolean(t[n]),l[n]=e,l.configs[n]=e);l.idSyncContainerID=l.idSyncContainerID||0,h="boolean"==typeof l.isCoopSafe?l.isCoopSafe:A.parseBoolean(l.isCoopSafe),l.resetBeforeVersion&&l._resetAmcvCookie(l.resetBeforeVersion),l._attemptToPopulateIdsFromUrl(),l._attemptToPopulateSdidFromUrl(),l._readVisitor();var r=l._getField(m),i=Math.ceil((new Date).getTime()/x.MILLIS_PER_DAY);l.idSyncDisableSyncs||l.disableIdSyncs||!M.canMakeSyncIDCall(r,i)||(l._setFieldExpire(w,-1),l._setField(m,i)),l.getMarketingCloudVisitorID(),l.getAudienceManagerLocationHint(),l.getAudienceManagerBlob(),l._mergeServerState(l.serverState)}else l._attemptToPopulateIdsFromUrl(),l._attemptToPopulateSdidFromUrl()}(),function(){if(!l.idSyncDisableSyncs&&!l.disableIdSyncs){M.checkDPIframeSrc();d.addEventListener("load",function(){f.windowLoaded=!0,function(){var e=M;e.readyToAttachIframe()&&e.attachIframe()}()});try{L(function(e){M.receiveMessage(e.data)},M.iframeHost)}catch(e){}}}(),l.whitelistIframeDomains&&x.POST_MESSAGE_ENABLED&&(l.whitelistIframeDomains=l.whitelistIframeDomains instanceof Array?l.whitelistIframeDomains:[l.whitelistIframeDomains],l.whitelistIframeDomains.forEach(function(t){var n=new I(e,t),r=O(l,n);L(r,t)}))}};U.getInstance=function(e,t){if(!e)throw new Error("Visitor requires Adobe Marketing Cloud Org ID.");e.indexOf("@")<0&&(e+="@AdobeOrg");var r=function(){var t=n.s_c_il;if(t)for(var r=0;r<t.length;r++){var i=t[r];if(i&&"Visitor"===i._c&&i.marketingCloudOrgID===e)return i}}();if(r)return r;var i=e.split("").reverse().join(""),o=new U(e,null,i);t===Object(t)&&t.cookieDomain&&(o.cookieDomain=t.cookieDomain),n.s_c_il.splice(--n.s_c_in,1);var a=y.getIeVersion();if("number"==typeof a&&a<10)return o._helpers.replaceMethodsWithFunction(o,function(){});var s=function(){try{return n.self!==n.parent}catch(e){return!0}}()&&!function(e){return e.cookieWrite("TEST_AMCV_COOKIE","T",1),"T"===e.cookieRead("TEST_AMCV_COOKIE")&&(e._helpers.removeCookie("TEST_AMCV_COOKIE"),!0)}(o)&&n.parent?new S(e,t,o,n.parent):new U(e,t,i);return o=null,s.init(),s},function(){function e(){U.windowLoaded=!0}n.addEventListener?n.addEventListener("load",e):n.attachEvent&&n.attachEvent("onload",e),U.codeLoadEnd=(new Date).getTime()}(),U.config=N,n.Visitor=U}()}}).call(this,n(4))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8);t.initializePreviousPageDetails=function(e){void 0===e&&(e=".nike.com");var t={pageName:"",pageType:""},n=function(e){return t.pageName=e.pageName,t.pageType=e.pageType,e},i=new r.Cookies,o=function(e){if(e){var t=e.split("|");return{pageName:t[1]||"",pageType:t[0]||""}}};return{get:function(){if(t.pageName||t.pageType)return t;var e=o(i.get("ppd"))||{pageName:"entry>entry",pageType:"entry"};return n(e)},set:function(t,r){return void 0===r&&(r=""),function(t){var r=o(i.get("ppd"))||{pageName:"entry>entry",pageType:"entry"};return n(r),i.set("ppd",t,{domain:e})}(function(e,t){return void 0===t&&(t=""),e+"|"+(t||e)}(t,r))}}}},function(e,t,n){"use strict";(function(e){var n=this&&this.__awaiter||function(t,n,r,i){return new(r||(r=e))(function(e,o){function a(e){try{u(i.next(e))}catch(e){o(e)}}function s(e){try{u(i.throw(e))}catch(e){o(e)}}function u(t){t.done?e(t.value):new r(function(e){e(t.value)}).then(a,s)}u((i=i.apply(t,n||[])).next())})},r=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},i=this;Object.defineProperty(t,"__esModule",{value:!0});t.initializeUnite=function(){return{getUserProfile:function(){return n(i,void 0,void 0,function(){var t;return r(this,function(n){switch(n.label){case 0:return[4,new e(function(e,t){var n=setTimeout(function(){t(new Error("timeout waiting for nike.unite"))},5e3);window&&window.nike&&window.nike.unite&&window.nike.unite.isInitialized&&(clearTimeout(n),e(window.nike.unite)),window.addEventListener("nikeUniteInit",function(){clearTimeout(n),e(window.nike&&window.nike.unite)})})];case 1:return t=n.sent(),[2,new e(function(e,n){t.session.getUserProfile(function(t,n){var r=t&&t.entity&&t.entity.id||"guest";e({id:r,type:n})},function(e,t){n(new Error("Unite service attmept to retrieve umpId responded with error code "+t+" and "+e))})})]}})})}}}}).call(this,n(1))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(41))},function(e,t,n){"use strict";(function(e){var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(t,n,r,i){return new(r||(r=e))(function(e,o){function a(e){try{u(i.next(e))}catch(e){o(e)}}function s(e){try{u(i.throw(e))}catch(e){o(e)}}function u(t){t.done?e(t.value):new r(function(e){e(t.value)}).then(a,s)}u((i=i.apply(t,n||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(42),s=n(2),u=n(0),c=n(44),l=n(7),d="data-capture-events-not-sent-log",f=function(){function t(t){var n=t.handlers,r=t.middleware,i=t.passThrough,o=t.services,a=t.throwOnError,u=void 0!==a&&a;this.handlers={},this.queue=[{name:"init",promise:e.resolve()}],this.decrementEventsNotSentLog=function(){if(s.hasLocalStorage()){var e=localStorage.getItem(d)||"0";localStorage.setItem(d,(Number(e)-1).toString())}},this.generateMessageId=function(){var e=Math.random().toString();return"ajs-"+l.Md5.hashStr((new Date).toISOString()+e)},this.incrementEventsNotSentLog=function(){if(s.hasLocalStorage()){var e=localStorage.getItem(d)||"0";localStorage.setItem(d,(Number(e)+1).toString())}},this.handlers=n,this.middleware=r,this.passThrough=i,this.services=o,this.throwOnError=u,this.checkEventsNotSentLog()}return t.prototype.exports=function(){var e=this,t={};return Object.keys(this.handlers).forEach(function(n){t[n]=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var o=e.generateMessageId(),s=a.getSegmentParameters(t);u.logger.time(o),e.processEvent(n,r({},s,{messageId:o}))}}),this.passThrough&&Object.keys(this.passThrough).forEach(function(n){t[n]=function(){for(var t,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(e.passThrough)return(t=e.passThrough)[n].apply(t,r)}}),t},t.prototype.checkEventsNotSentLog=function(){if(s.hasLocalStorage()){var e=localStorage.getItem(d)||"0";"0"!==e&&(this.services.insights.send("exception",{count:Number(e),exception:"events-not-sent-detected"}),localStorage.setItem(d,"0"))}},t.prototype.handleError=function(e){var t="string"==typeof e?new Error(e):e;if(u.logger.error(t),this.services.insights.send("exception",{exception:"unknown",message:t.message}),this.throwOnError)throw e},t.prototype.processEvent=function(t,n){var a=this,s=n.category,l=n.messageId,d=n.name,f=n.properties,p=n.options,h=n.callback;this.incrementEventsNotSentLog();var g=this.queue[this.queue.length-1],m=new e(function(n){u.logger.debug("Processing '"+t+"' event \""+(d||"no event name")+'":'+(s||""),JSON.stringify({options:p,properties:f}));var m=Object.keys(r({},a.middleware)).map(function(n){return i(a,void 0,void 0,function(){var r;return o(this,function(i){switch(i.label){case 0:return[4,function(t,n){var r=n||{};return"object"==typeof t&&t.then&&t.catch?t:e.resolve(t||r)}((0,this.middleware[n])(t,d,{options:p,properties:f},this.services))];case 1:return r=i.sent(),u.logger.debug('Middleware: "'+n+'", Result:',r),[2,r]}})})});e.all(m).then(function(e){var r=c.merge.apply(void 0,e),i=r.drop,o=r.options,u=r.properties,m=c.merge({options:o},{properties:u},{options:p},{properties:f});a.processEventQueue(n,g,i||{},t,{callback:h,category:s,messageId:l,name:d,options:m.options,properties:m.properties})}).catch(function(e){a.handleError(e)})});this.queue.push({name:d||"unknown event name",promise:m||e.resolve()})},t.prototype.processEventQueue=function(e,t,n,r,i){var o=this;t.promise.then(function(){if(0===Object.keys(n).length)o.handlers[r].call({},i);else{i.callback&&i.callback();var t=Object.keys(n).map(function(e){return e+"::"+n[e]}).join("|");u.logger.debug("Dropped event: "+t)}o.decrementEventsNotSentLog(),e()}).catch(function(e){o.handleError(e)})},t}();t.EventStream=f}).call(this,n(1))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(43);t.getSegmentParameters=function(e){var t=e,n="string"==typeof t[1]?t[0]:void 0,i="string"==typeof t[1]?t[1]:"string"==typeof t[0]?t[0]:void 0,o="function"==typeof t[1]?t[1]:"function"==typeof t[2]?t[2]:"function"==typeof t[3]?t[3]:"function"==typeof t[4]?t[4]:function(){},a="object"==typeof t[0]?t[0]:"object"==typeof t[1]?t[1]:"object"==typeof t[2]?t[2]:{},s="object"==typeof t[1]&&t[1]!==a?t[1]:"object"==typeof t[2]&&t[2]!==a?t[2]:"object"==typeof t[3]&&t[3]!==a?t[3]:{};return{callback:o,category:n,name:i,options:r.cloneDeep(s),properties:r.cloneDeep(a)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.cloneDeep=function(e){return JSON.parse(JSON.stringify(e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return function(e){return Boolean(e)&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t}(e)},i=function(e){return r(e)?s(function(e){return Array.isArray(e)?[]:{}}(e),e):e},o=function(e,t){return e.concat(t).map(i)},a=function(e,t){var n={};return r(e)&&Object.keys(e).forEach(function(t){n[t]=i(e[t])}),Object.keys(t).forEach(function(o){n[o]=r(t[o])&&e[o]?n[o]=s(e[o],t[o]):i(t[o])}),n};function s(e,t){var n=Array.isArray(t);return n===Array.isArray(e)?n?o(e,t):a(e,t):i(t)}t.merge=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.reduce(s,{})}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(46),o={adobeVariables:!0},a=n(47).getQueryStringFlags("sw-flags"),s=a?void 0:i.getLocalStorageFlags("sw-flags"),u=r({},o,a,s);t.flags=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);t.getLocalStorageFlags=function(e){if(r.hasLocalStorage())try{var t=JSON.parse(localStorage.getItem(e)||"{}");return t&&Object.keys(t).length>0?t:void 0}catch(e){return}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);t.getQueryStringFlags=function(e){var t=window.location.search;if(t.indexOf(e)>-1&&t.indexOf(":")>-1&&"undefined"!=typeof URLSearchParams){var n=(new URLSearchParams(t).get(e)||"").trim().split(",").reduce(function(e,t){var n=t.split(":"),r=n[0],i=n[1];return e[r]="true"===i.toLowerCase(),e},{});return r.hasLocalStorage()&&localStorage.setItem(e,JSON.stringify(n)),n}}}]);
//# sourceMappingURL=segment-wrapper.min.js.map